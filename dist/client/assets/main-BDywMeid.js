import{r as l,j as e,V as Cs,R as As,A as ks,C as Ts,X as Ce,T as Ds,D as Es,P as Ft,S as Rt,O as _e,a as Is,b as Ye,c as Fs,d as We,e as Ge,f as Rs,g as Pt,u as is,h as Ae,L as M,i as ge,k as Ps,M as Ls,l as Lt,U as ke,F as Mt,m as zt,I as Ut,Y as Ot,n as qt,o as Vt,p as os,q as Bt,s as Ms,t as ne,E as xe,v as Qe,w as je,x as _,y as Ke,N as cs,z as Ns,G as ls,B as Qt,H as ds,J as zs,K as Te,Q as Xe,W as Us,Z as Os,_ as Ze,$ as qs,a0 as He,a1 as Ht,a2 as ms,a3 as Re,a4 as Oe,a5 as qe,a6 as Vs,a7 as $e,a8 as Bs,a9 as $t,aa as Qs,ab as xs,ac as Hs,ad as Jt,ae as $s,af as Js,ag as _t,ah as _s,ai as Yt,aj as Ys,ak as Ws,al as Wt,am as us,an as Gt,ao as Gs,ap as Kt,aq as Xt,ar as Zt,as as ea,at as Ks,au as sa,av as Xs,aw as Zs,ax as ta,ay as aa,az as ra,aA as la,aB as na,aC as ia,aD as et,aE as oa,aF as ve,aG as se,aH as Ne,aI as ca,aJ as da,aK as ma,aL as xa,aM as st,aN as ua,aO as ha,aP as pa,aQ as fa,aR as ga,aS as ja,aT as va,aU as Na,aV as ba,aW as ya,aX as wa,aY as tt,aZ as Sa,a_ as Ca,a$ as Aa,b0 as ka,b1 as Ta,b2 as Da,b3 as Ea,b4 as Ia,b5 as Fa,b6 as Ra,b7 as Pa,b8 as La,b9 as q,ba as Ma,bb as za}from"./react-vendor-CMd1NzPa.js";import{D as Ua,E as Oa,F as Pe,G as Se,H as at}from"./vendor-BoBf7X6R.js";import{g as rt,a as qa,b as lt,c as we,d as Va,e as Ba,u as Qa,f as Ha,h as $a,i as Ja,j as _a,k as Ya,l as Wa,m as Ga,n as De,o as he,q as Le,p as hs,r as ps,s as Me,w as nt,t as it,v as Ka,x as Xa,y as Za,z as ot,A as ct,B as er,C as sr,D as tr,E as ar,F as rr,G as lr,H as nr,I as ir,J as or,K as cr,L as dr,M as mr,N as xr,O as ur,P as hr,Q as pr,R as fr,S as gr,T as jr,U as vr,V as Nr,W as br,X as yr,Y as wr,Z as Sr,_ as Cr,$ as Ar,a0 as kr,a1 as Tr,a2 as Dr,a3 as Er,a4 as Ir,a5 as Fr,a6 as Rr,a7 as Pr,a8 as Lr}from"./firebase-QWJ4WCAq.js";import"./ui-DW48STyt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();const dt=l.createContext({theme:"light",setTheme:()=>null});function Mr({children:t,defaultTheme:s="light",storageKey:a="vite-ui-theme",...r}){const[n,i]=l.useState(()=>typeof window<"u"&&localStorage.getItem(a)||s);l.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(d);const u=window.matchMedia("(prefers-color-scheme: dark)"),p=f=>{o.classList.remove("light","dark"),o.classList.add(f.matches?"dark":"light")};return u.addEventListener("change",p),()=>u.removeEventListener("change",p)}o.classList.add(n)},[n]);const c={theme:n,setTheme:o=>{localStorage.setItem(a,o),i(o)}};return e.jsx(dt.Provider,{...r,value:c,children:t})}const mt=()=>{const t=l.useContext(dt);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function C(...t){return Ua(Oa(t))}function es(t){return new Date(t).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}function ns(t){return t.toLowerCase().replace(/[^\p{L}\p{N}\s-]/gu,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function Ee(t){const s=t.englishTitle||t.title,a=ns(s);return`/news/${t.category}/${a}`}function zr(t){const s=t.match(/-(\w+)$/);return s?s[1]:null}const Ur=Ft,xt=l.forwardRef(({className:t,...s},a)=>e.jsx(Cs,{ref:a,className:C("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));xt.displayName=Cs.displayName;const Or=Pe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ut=l.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(As,{ref:r,className:C(Or({variant:s}),t),...a}));ut.displayName=As.displayName;const qr=l.forwardRef(({className:t,...s},a)=>e.jsx(ks,{ref:a,className:C("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));qr.displayName=ks.displayName;const ht=l.forwardRef(({className:t,...s},a)=>e.jsx(Ts,{ref:a,className:C("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ce,{className:"h-4 w-4"})}));ht.displayName=Ts.displayName;const pt=l.forwardRef(({className:t,...s},a)=>e.jsx(Ds,{ref:a,className:C("text-sm font-semibold",t),...s}));pt.displayName=Ds.displayName;const ft=l.forwardRef(({className:t,...s},a)=>e.jsx(Es,{ref:a,className:C("text-sm opacity-90",t),...s}));ft.displayName=Es.displayName;const Vr=1,Br=1e6;let as=0;function Qr(){return as=(as+1)%Number.MAX_SAFE_INTEGER,as.toString()}const rs=new Map,bs=t=>{if(rs.has(t))return;const s=setTimeout(()=>{rs.delete(t),Ie({type:"REMOVE_TOAST",toastId:t})},Br);rs.set(t,s)},Hr=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Vr)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?bs(a):t.toasts.forEach(r=>{bs(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},Ve=[];let Be={toasts:[]};function Ie(t){Be=Hr(Be,t),Ve.forEach(s=>{s(Be)})}function $r(t){const s=Qr(),a=n=>Ie({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>Ie({type:"DISMISS_TOAST",toastId:s});return Ie({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function V(){const[t,s]=l.useState(Be);return l.useEffect(()=>(Ve.push(s),()=>{const a=Ve.indexOf(s);a>-1&&Ve.splice(a,1)}),[t]),{...t,toast:$r,dismiss:a=>Ie({type:"DISMISS_TOAST",toastId:a})}}function Jr(){const{toasts:t}=V();return e.jsxs(Ur,{children:[t.map(({id:s,title:a,description:r,action:n,...i})=>e.jsxs(ut,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(pt,{children:a}),r&&e.jsx(ft,{children:r})]}),n,e.jsx(ht,{})]},s)),e.jsx(xt,{})]})}const fs=Pe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),j=l.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},i)=>{const m=r?Rt:"button";return e.jsx(m,{ref:i,"data-slot":"button",className:C(fs({variant:s,size:a,className:t})),...n})});j.displayName="Button";const _r=Rs,Yr=Pt,Wr=Is,gt=l.forwardRef(({className:t,...s},a)=>e.jsx(_e,{className:C("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));gt.displayName=_e.displayName;const Gr=Pe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jt=l.forwardRef(({side:t="right",className:s,children:a,...r},n)=>e.jsxs(Wr,{children:[e.jsx(gt,{}),e.jsxs(Ye,{ref:n,className:C(Gr({side:t}),s),...r,children:[a,e.jsxs(Fs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jt.displayName=Ye.displayName;const Kr=l.forwardRef(({className:t,...s},a)=>e.jsx(We,{ref:a,className:C("text-lg font-semibold text-foreground",t),...s}));Kr.displayName=We.displayName;const Xr=l.forwardRef(({className:t,...s},a)=>e.jsx(Ge,{ref:a,className:C("text-sm text-muted-foreground",t),...s}));Xr.displayName=Ge.displayName;const T=l.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:C("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));T.displayName="Input";const ys=[{name:"Home",to:"/",keywords:"Moradabad news homepage, latest news"},{name:"Moradabad News",to:"/news/moradabad",keywords:"Moradabad local news, city news"},{name:"UP News",to:"/news/up",keywords:"Uttar Pradesh news, UP current affairs"},{name:"India News",to:"/news/india",keywords:"India breaking news, national news"},{name:"Global News",to:"/news/global",keywords:"world news, international news"},{name:"Current Affairs",to:"/current-affairs",keywords:"current affairs, trending topics"},{name:"Services",to:"/services",keywords:"digital services, library management, business solutions"},{name:"Careers",to:"/careers",keywords:"jobs Moradabad, career opportunities"},{name:"About",to:"/about",keywords:"about Moradabad News, our mission"},{name:"Contact",to:"/contact",keywords:"contact us, get in touch"}],Zr=[{name:"Breaking News",query:"breaking news"},{name:"Weather",query:"weather"},{name:"Politics",query:"politics"},{name:"Business",query:"business"},{name:"Sports",query:"sports"},{name:"Education",query:"education"}];function B(){const{setTheme:t,theme:s}=mt(),a=is(),r=Ae(),[n,i]=l.useState(""),[m,c]=l.useState(!1),o=()=>{const p=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s;t(p==="dark"?"light":"dark")},d=p=>{p.preventDefault(),n.trim()&&(r(`/search?q=${encodeURIComponent(n.trim())}`),c(!1))},u=p=>a.pathname===p||p!=="/"&&a.pathname.startsWith(p);return e.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-sm",children:[e.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[e.jsxs(M,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"MN"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-serif text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:"Moradabad News"}),e.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:"Latest News & Updates"})]})]}),e.jsx("nav",{className:"hidden items-center gap-1 lg:flex",children:ys.slice(0,6).map(p=>e.jsx(M,{to:p.to,className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${u(p.to)?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,title:p.keywords,children:p.name},p.to))}),e.jsx("div",{className:"hidden md:flex items-center gap-2",children:e.jsxs("form",{onSubmit:d,className:"relative",children:[e.jsx(T,{type:"text",placeholder:"Search news...",value:n,onChange:p=>i(p.target.value),className:"w-64 pr-10"}),e.jsx(j,{type:"submit",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:e.jsx(ge,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"ghost",size:"icon",className:"h-9 w-9 md:hidden",onClick:()=>c(!m),title:"Search",children:[e.jsx(ge,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(j,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:o,title:`Switch to ${s==="dark"||s==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark"} mode`,children:[e.jsx(Ps,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Ls,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),e.jsxs(_r,{children:[e.jsx(Yr,{asChild:!0,className:"lg:hidden",children:e.jsxs(j,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[e.jsx(Lt,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),e.jsx(jt,{side:"right",className:"w-[300px] sm:w-[400px]",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[e.jsx(T,{type:"text",placeholder:"Search news...",value:n,onChange:p=>i(p.target.value),className:"flex-1"}),e.jsx(j,{type:"submit",size:"sm",children:e.jsx(ge,{className:"h-4 w-4"})})]}),e.jsx("nav",{className:"flex flex-col gap-2",children:ys.map(p=>e.jsx(M,{to:p.to,className:`px-4 py-3 text-lg font-medium rounded-lg transition-colors ${u(p.to)?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:p.name},p.to))}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Search"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Zr.map(p=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>{i(p.query),r(`/search?q=${encodeURIComponent(p.query)}`)},className:"text-xs justify-start",children:p.name},p.query))})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(j,{variant:"outline",className:"flex-1",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Login"]}),e.jsx(j,{className:"flex-1",children:"Subscribe"})]})]})})]})]})]}),m&&e.jsx("div",{className:"md:hidden border-t bg-background/95 backdrop-blur p-4",children:e.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[e.jsx(T,{type:"text",placeholder:"Search news...",value:n,onChange:p=>i(p.target.value),className:"flex-1",autoFocus:!0}),e.jsx(j,{type:"submit",size:"sm",children:e.jsx(ge,{className:"h-4 w-4"})})]})})]})}function Q(){return e.jsx("footer",{className:"border-t border-border bg-muted/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-serif text-lg font-bold text-foreground",children:"Moradabad News"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Your trusted source for the latest news from Moradabad, Uttar Pradesh, India, and around the world."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(M,{to:"/about",className:"text-muted-foreground hover:text-foreground",children:"About Us"})}),e.jsx("li",{children:e.jsx(M,{to:"/contact",className:"text-muted-foreground hover:text-foreground",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"/sitemap.xml",className:"text-muted-foreground hover:text-foreground",children:"Sitemap"})}),e.jsx("li",{children:e.jsx("a",{href:"/services",className:"text-muted-foreground hover:text-foreground",children:"Services"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Categories"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(M,{to:"/news/moradabad",className:"text-muted-foreground hover:text-foreground",children:"Moradabad News"})}),e.jsx("li",{children:e.jsx(M,{to:"/news/up",className:"text-muted-foreground hover:text-foreground",children:"UP News"})}),e.jsx("li",{children:e.jsx(M,{to:"/news/india",className:"text-muted-foreground hover:text-foreground",children:"India News"})}),e.jsx("li",{children:e.jsx(M,{to:"/news/global",className:"text-muted-foreground hover:text-foreground",children:"Global News"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Follow Us"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:[e.jsx(Mt,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Facebook"})]}),e.jsxs("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:[e.jsx(zt,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Twitter"})]}),e.jsxs("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:[e.jsx(Ut,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Instagram"})]}),e.jsxs("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:[e.jsx(Ot,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"YouTube"})]})]})]})]}),e.jsx("div",{className:"mt-8 border-t border-border pt-8 text-center text-sm text-muted-foreground",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," Moradabad News. All rights reserved."]})})]})})}const S=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:C("rounded-lg border border-border bg-card text-card-foreground shadow-sm",t),...s}));S.displayName="Card";const F=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:C("flex flex-col space-y-1.5 p-6",t),...s}));F.displayName="CardHeader";const R=l.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:C("text-2xl font-semibold leading-none tracking-tight",t),...s}));R.displayName="CardTitle";const H=l.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:C("text-sm text-muted-foreground",t),...s}));H.displayName="CardDescription";const k=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:C("p-6 pt-0",t),...s}));k.displayName="CardContent";const vt=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:C("flex items-center p-6 pt-0",t),...s}));vt.displayName="CardFooter";const el=Pe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function I({className:t,variant:s,...a}){return e.jsx("div",{className:C(el({variant:s}),t),...a})}function sl({articles:t,exculdeTrendingArticle:s}){var h,A,v,D,w,y,N,E,P;const[a,r]=l.useState(0),[n,i]=l.useState(!0),[m,c]=l.useState(!1);console.log(t,"articles");const o=t.filter(g=>g.isFeatured).slice(0,3),d=t.filter(g=>!g.isFeatured).sort((g,L)=>new Date(L.publishedAt)-new Date(g.publishedAt)).slice(0,6),u=s.filter(g=>!g.isFeatured&&!g.isTrending);l.useEffect(()=>{if(!n||m||o.length<=1)return;const g=setInterval(()=>{r(L=>(L+1)%o.length)},5e3);return()=>clearInterval(g)},[n,m,o.length]);const p=()=>{r(g=>g===0?o.length-1:g-1)},f=()=>{r(g=>(g+1)%o.length)},x=()=>{i(!n)};return t.length===0?e.jsx("section",{className:"relative min-h-[70vh] from-slate-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Moradabad News"}),e.jsx("p",{className:"text-xl opacity-90",children:"Loading latest news..."})]})}):e.jsxs("section",{className:"relative min-h-[70vh]   from-gray-900  to-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-red-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-yellow-500/10 rounded-full blur-3xl animate-pulse delay-2000"})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"hidden md:block lg:col-span-2",children:[o.length>0&&e.jsxs("div",{className:"relative group",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx(S,{className:"overflow-hidden border-0 bg-white/5 backdrop-blur-md hover:bg-white/10 transition-all duration-500 group-hover:scale-[1.02] shadow-2xl",children:e.jsxs("div",{className:"relative h-[500px] overflow-hidden",children:[e.jsx("img",{src:((h=o[a])==null?void 0:h.image)||"/placeholder.svg?height=500&width=800",alt:(A=o[a])==null?void 0:A.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(I,{className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold px-3 py-1 shadow-lg",children:[e.jsx(qt,{className:"w-4 h-4 mr-1"}),"Featured"]})}),e.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:e.jsx(j,{size:"sm",variant:"secondary",onClick:x,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:n?e.jsx(Vt,{className:"w-4 h-4"}):e.jsx(os,{className:"w-4 h-4"})})}),o.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(j,{size:"sm",variant:"secondary",onClick:p,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white border-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Bt,{className:"w-4 h-4"})}),e.jsx(j,{size:"sm",variant:"secondary",onClick:f,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white border-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Ms,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(I,{variant:"outline",className:"border-white/30 text-white bg-white/10",children:(D=(v=o[a])==null?void 0:v.category)==null?void 0:D.replace("-"," ")}),e.jsxs("span",{className:"flex items-center gap-1 text-sm opacity-90",children:[e.jsx(ne,{className:"w-4 h-4"}),Se(new Date((w=o[a])==null?void 0:w.publishedAt),{addSuffix:!0})]}),e.jsxs("span",{className:"flex items-center gap-1 text-sm opacity-90",children:[e.jsx(xe,{className:"w-4 h-4"}),((N=(y=o[a])==null?void 0:y.views)==null?void 0:N.toLocaleString())||0]})]}),e.jsxs(M,{to:Ee(o[a]),children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-4 leading-tight group-hover:text-red-300 transition-colors duration-300",children:(E=o[a])==null?void 0:E.title}),e.jsx("p",{className:"text-lg opacity-90 mb-4 line-clamp-2",children:(P=o[a])==null?void 0:P.summary}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80 group-hover:text-white transition-colors duration-300",children:[e.jsx("span",{children:"Read More"}),e.jsx(Qe,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})]})}),o.length>1&&e.jsx("div",{className:"flex justify-center mt-4 gap-2",children:o.map((g,L)=>e.jsx("button",{onClick:()=>r(L),className:`w-3 h-3 rounded-full transition-all duration-300 ${L===a?"bg-white scale-125":"bg-white/50 hover:bg-white/70"}`},L))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8 mt-11",children:u.slice(0,3).map((g,L)=>{var O,$;return e.jsx(M,{to:Ee(g),children:e.jsxs(S,{className:"group overflow-hidden border-0 bg-white/5 backdrop-blur-md hover:bg-white/10 transition-all duration-300 hover:scale-[1.02] shadow-lg h-full",children:[e.jsxs("div",{className:"relative h-32 overflow-hidden",children:[e.jsx("img",{src:g.image||"/placeholder.svg?height=128&width=200",alt:g.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),g.isTrending&&e.jsxs(I,{className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-xs px-2 py-1",children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"Trending"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{variant:"outline",className:"text-xs",children:(O=g.category)==null?void 0:O.replace("-"," ")}),e.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(ne,{className:"w-3 h-3"}),Se(new Date(g.publishedAt),{addSuffix:!0})]})]}),e.jsx("h3",{className:"font-semibold text-foreground text-sm leading-tight mb-2 line-clamp-2 group-hover:text-primary transition-colors duration-300",children:g.title}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:g.summary}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["By ",g.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"}),(($=g.views)==null?void 0:$.toLocaleString())||0]})]})]})]})},g.id)})})]}),e.jsxs("div",{className:"space-y-4 md:col-span-1 lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(je,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Latest News"})]}),d.map((g,L)=>{var O,$;return e.jsx(M,{to:Ee(g),children:e.jsx(S,{className:"group overflow-hidden border-0 bg-white/5 backdrop-blur-md hover:bg-white/15 transition-all duration-300 hover:scale-[1.02] shadow-lg",children:e.jsxs("div",{className:"flex gap-4 p-4",children:[e.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 overflow-hidden rounded-lg",children:[e.jsx("img",{src:g.image||"/placeholder.svg?height=80&width=80",alt:g.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),g.isTrending&&e.jsx(I,{className:"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-xs px-1 py-0",children:e.jsx(je,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{variant:"outline",className:"text-xs",children:(O=g.category)==null?void 0:O.replace("-"," ")}),e.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(ne,{className:"w-3 h-3"}),Se(new Date(g.publishedAt),{addSuffix:!0})]})]}),e.jsx("h3",{className:"font-semibold text-foreground text-sm leading-tight mb-2 line-clamp-2 group-hover:text-primary transition-colors duration-300",children:g.title}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["By ",g.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"}),(($=g.views)==null?void 0:$.toLocaleString())||0]})]})]})]})})},g.id)}),e.jsx("div",{className:"pt-4",children:e.jsx(M,{to:"/news/moradabad",children:e.jsxs(j,{variant:"outline",className:"w-full",children:["View All Moradabad News",e.jsx(Qe,{className:"w-4 h-4 ml-2"})]})})})]})]})})]})}function ze({article:t,compact:s=!1}){return e.jsx(S,{className:"group overflow-hidden transition-shadow hover:shadow-lg",children:e.jsxs(M,{to:Ee(t),children:[e.jsx(F,{className:"p-0",children:e.jsxs("div",{className:`relative overflow-hidden ${s?"h-48":"h-56"}`,children:[e.jsx("img",{src:t.image||"/placeholder.svg?height=300&width=400",alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),t.isTrending&&e.jsx(I,{className:"absolute right-2 top-2 bg-red-600 hover:bg-red-700",children:"Trending"})]})}),e.jsxs(k,{className:"p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(I,{variant:"outline",className:"capitalize",children:t.category.replace("-"," ")}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),Se(new Date(t.publishedAt),{addSuffix:!0})]})]}),e.jsx("h3",{className:`font-serif font-bold leading-tight text-foreground group-hover:text-red-600 transition-colors ${s?"text-lg line-clamp-2":"text-xl line-clamp-3"}`,children:t.title}),!s&&e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground line-clamp-2",children:t.summary})]}),e.jsxs(vt,{className:"p-4 pt-0 flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["By ",t.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-3 w-3"}),t.views.toLocaleString()]})]})]})})}function tl({articles:t}){return t.length===0?null:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-6 w-6 text-red-600"}),e.jsx("h2",{className:"font-serif text-3xl font-bold text-foreground",children:"Trending News"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(s=>e.jsx(ze,{article:s},s.id))})]})}function Ue({title:t,category:s,articles:a}){if(a.length===0)return null;const r=`/news/${s}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-serif text-3xl font-bold text-foreground",children:t}),e.jsx(M,{to:r,children:e.jsxs(j,{variant:"ghost",className:"gap-2",children:["View All",e.jsx(Qe,{className:"h-4 w-4"})]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:a.map(n=>e.jsx(ze,{article:n,compact:!0},n.id))})]})}function al({video:t}){return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-6 w-6 text-red-600"}),e.jsx("h2",{className:"font-serif text-3xl font-bold text-foreground",children:"Featured Video"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-lg bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${t.videoId}`,title:t.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"h-full w-full",loading:"lazy"})}),e.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[e.jsx("h3",{className:"font-serif text-2xl font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground",children:t.description})]})]})]}):null}function rl({banners:t}){const[s,a]=l.useState(t||[]),[r,n]=l.useState(!0);if(l.useEffect(()=>{(!t||t.length===0)&&(async()=>{const c=await rt();a(c)})()},[t]),!s||s.length===0||!r)return null;const i=s[0];return e.jsx("div",{className:"sticky top-0 z-[60] w-full py-3 px-4 border-b",style:{backgroundColor:i.backgroundColor||"#f0f0f0",color:i.textColor||"#000"},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4",children:[e.jsx("div",{className:"prose prose-sm max-w-none flex-1 [&>*]:my-0",style:{color:i.textColor||"#000"},dangerouslySetInnerHTML:{__html:i.content}}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"shrink-0 hover:bg-black/10",style:{color:i.textColor||"#000"},children:e.jsx(Ce,{className:"h-4 w-4"})})]})})}function ll(){const[t,s]=l.useState([]),[a,r]=l.useState([]),[n,i]=l.useState([]),[m,c]=l.useState([]),[o,d]=l.useState([]),[u,p]=l.useState([]),[f,x]=l.useState(null),[h,A]=l.useState([]),[v,D]=l.useState(!0);l.useEffect(()=>{w()},[]);async function w(){D(!0);try{const[y,N,E,P,g,L,O,$]=await Promise.all([qa(),lt(),we("moradabad"),we("up"),we("india"),we("global"),Va(),rt()]);s(y),r(N),i(E.slice(0,4)),c(P.slice(0,4)),d(g.slice(0,4)),p(L.slice(0,4)),x(O),A($)}catch(y){console.error("Error loading homepage data:",y)}finally{D(!1)}}return v?e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})}),e.jsx(Q,{})]}):e.jsxs("div",{className:"flex min-h-screen flex-col",children:[h.length>0&&e.jsx(rl,{banners:h}),e.jsx(B,{}),e.jsxs("main",{className:"flex-1",id:"main-content",children:[e.jsx(sl,{articles:[...t,...a],exculdeTrendingArticle:[...n,...m,...o,...u]}),e.jsx("section",{className:"bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-800 dark:to-slate-900 py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Moradabad News in Numbers"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Your trusted source for local and regional news"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-6 shadow-lg hover:shadow-xl dark:shadow-slate-900/50 transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"text-4xl font-bold text-red-600 dark:text-red-400 mb-2",children:"50K+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Daily Readers"})]})}),e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-6 shadow-lg hover:shadow-xl dark:shadow-slate-900/50 transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"100+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Articles Daily"})]})}),e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-6 shadow-lg hover:shadow-xl dark:shadow-slate-900/50 transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 dark:text-green-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"News Updates"})]})}),e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-2xl p-6 shadow-lg hover:shadow-xl dark:shadow-slate-900/50 transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"5+"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Years Experience"})]})})]})]})}),a.length>0&&e.jsx("section",{className:"container mx-auto px-4 py-12",children:e.jsx(tl,{articles:a})}),n.length>0&&e.jsx("section",{className:"container mx-auto px-4 py-12",children:e.jsx(Ue,{title:"Moradabad News",category:"moradabad",articles:n})}),m.length>0&&e.jsx("section",{className:"bg-muted/30 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(Ue,{title:"UP News",category:"up",articles:m})})}),o.length>0&&e.jsx("section",{className:"container mx-auto px-4 py-12",children:e.jsx(Ue,{title:"India News",category:"india",articles:o})}),f&&e.jsx("section",{className:"bg-muted/30 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(al,{video:f})})}),u.length>0&&e.jsx("section",{className:"container mx-auto px-4 py-12",children:e.jsx(Ue,{title:"Global News",category:"global",articles:u})}),e.jsx("section",{className:"bg-primary text-primary-foreground py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stay Updated with Moradabad News"}),e.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Get the latest breaking news and updates delivered directly to your inbox"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 rounded-lg text-foreground bg-background/10 border border-primary-foreground/20 placeholder:text-primary-foreground/70 focus:outline-none focus:ring-2 focus:ring-primary-foreground/50"}),e.jsx(j,{variant:"secondary",size:"lg",className:"whitespace-nowrap",children:"Subscribe Now"})]})]})}),e.jsx("section",{className:"py-16 bg-muted/30 dark:bg-slate-800/50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(S,{className:"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600",children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(Ke,{className:"h-5 w-5 text-primary"}),"About Moradabad"]})}),e.jsx(k,{children:e.jsx("p",{className:"text-muted-foreground dark:text-slate-300",children:'Moradabad, known as the "Brass City of India," is a major industrial and commercial center in Uttar Pradesh. Our news coverage includes local politics, business developments, cultural events, and community updates that matter to the residents of Moradabad and surrounding areas.'})})]}),e.jsxs(S,{className:"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600",children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(cs,{className:"h-5 w-5 text-primary"}),"Our Coverage"]})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Local Politics"}),e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Business News"}),e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Education"}),e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Health"}),e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Sports"}),e.jsx(I,{variant:"secondary",className:"bg-slate-100 dark:bg-slate-600 text-slate-700 dark:text-slate-200",children:"Culture"})]})})]})]})})})]}),e.jsx(Q,{})]})}function ue({items:t}){return e.jsx("nav",{"aria-label":"Breadcrumb",className:"py-4",children:e.jsxs("ol",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",itemScope:!0,itemType:"https://schema.org/BreadcrumbList",children:[e.jsxs("li",{itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",children:[e.jsx(M,{to:"/",itemProp:"item",className:"hover:text-foreground",children:e.jsx("span",{itemProp:"name",children:"Home"})}),e.jsx("meta",{itemProp:"position",content:"1"})]}),t.map((s,a)=>e.jsxs("li",{itemProp:"itemListElement",itemScope:!0,itemType:"https://schema.org/ListItem",className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"}),s.href?e.jsx(M,{to:s.href,itemProp:"item",className:"hover:text-foreground",children:e.jsx("span",{itemProp:"name",children:s.label})}):e.jsx("span",{itemProp:"name",className:"text-foreground",children:s.label}),e.jsx("meta",{itemProp:"position",content:String(a+2)})]},a))]})})}function nl(){return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"About Us"}]}),e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-foreground md:text-5xl",children:"About Moradabad News"}),e.jsx("p",{className:"mx-auto mt-4 max-w-3xl text-lg leading-relaxed text-muted-foreground",children:"Your trusted source for the latest news from Moradabad, Uttar Pradesh, India, and around the world. We are committed to delivering accurate, timely, and unbiased news coverage."})]}),e.jsxs("div",{className:"mb-16 grid gap-8 md:grid-cols-2",children:[e.jsx(S,{children:e.jsxs(k,{className:"p-8",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(Ns,{className:"h-6 w-6 text-white"})}),e.jsx("h2",{className:"mb-4 font-serif text-2xl font-bold text-foreground",children:"Our Mission"}),e.jsx("p",{className:"leading-relaxed text-muted-foreground",children:"To provide comprehensive, accurate, and timely news coverage that empowers our readers to make informed decisions. We strive to be the most trusted news source for Moradabad and beyond, maintaining the highest standards of journalistic integrity."})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-8",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(ls,{className:"h-6 w-6 text-white"})}),e.jsx("h2",{className:"mb-4 font-serif text-2xl font-bold text-foreground",children:"Our Vision"}),e.jsx("p",{className:"leading-relaxed text-muted-foreground",children:"To become the leading digital news platform connecting Moradabad with the world. We envision a future where quality journalism thrives, communities are well-informed, and diverse voices are heard and respected."})]})})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"mb-8 text-center font-serif text-3xl font-bold text-foreground",children:"Our Core Values"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx(S,{children:e.jsxs(k,{className:"p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:e.jsx(Qt,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-bold text-foreground",children:"Integrity"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"We uphold the highest standards of honesty and ethical journalism in all our reporting."})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:e.jsx(ds,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-bold text-foreground",children:"Community"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"We serve our community by highlighting local stories and giving voice to diverse perspectives."})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:e.jsx(Ns,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"mb-2 font-serif text-xl font-bold text-foreground",children:"Accuracy"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"We verify facts rigorously and correct errors promptly to maintain reader trust."})]})})]})]}),e.jsx("div",{className:"mx-auto max-w-4xl",children:e.jsx(S,{children:e.jsxs(k,{className:"p-8",children:[e.jsx("h2",{className:"mb-6 font-serif text-2xl font-bold text-foreground",children:"Who We Are"}),e.jsxs("div",{className:"space-y-4 leading-relaxed text-muted-foreground",children:[e.jsx("p",{children:"Moradabad News is a modern digital news platform dedicated to bringing you the latest updates from Moradabad, Uttar Pradesh, India, and around the globe. Founded with a vision to bridge the gap between local communities and the wider world, we have grown to become a trusted source of news and information."}),e.jsx("p",{children:"Our team of experienced journalists and reporters work tirelessly to bring you accurate, unbiased, and comprehensive news coverage across various categories including local news, state affairs, national developments, international events, and current affairs."}),e.jsx("p",{children:"We believe in the power of journalism to inform, educate, and empower. Our commitment to quality reporting, fact-checking, and ethical journalism sets us apart in today's fast-paced digital media landscape."}),e.jsx("p",{children:"Whether you're looking for breaking news, in-depth analysis, or feature stories, Moradabad News is your go-to destination for staying informed about what matters most to you and your community."})]})]})})})]})}),e.jsx(Q,{})]})}const pe=Rs,il=Is,Nt=l.forwardRef(({className:t,...s},a)=>e.jsx(_e,{ref:a,className:C("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Nt.displayName=_e.displayName;const ie=l.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(il,{children:[e.jsx(Nt,{}),e.jsxs(Ye,{ref:r,className:C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Fs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ie.displayName=Ye.displayName;const oe=({className:t,...s})=>e.jsx("div",{className:C("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});oe.displayName="DialogHeader";const ce=({className:t,...s})=>e.jsx("div",{className:C("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ce.displayName="DialogFooter";const de=l.forwardRef(({className:t,...s},a)=>e.jsx(We,{ref:a,className:C("text-lg font-semibold leading-none tracking-tight",t),...s}));de.displayName=We.displayName;const me=l.forwardRef(({className:t,...s},a)=>e.jsx(Ge,{ref:a,className:C("text-sm text-muted-foreground",t),...s}));me.displayName=Ge.displayName;const ol=Pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=l.forwardRef(({className:t,...s},a)=>e.jsx(zs,{ref:a,className:C(ol(),t),...s}));b.displayName=zs.displayName;const Y=l.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:C("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));Y.displayName="Textarea";function cl({open:t,onOpenChange:s,jobTitle:a,jobId:r}){const[n,i]=l.useState(!1),[m,c]=l.useState(!1),{toast:o}=V(),[d,u]=l.useState({name:"",email:"",phone:"",githubId:"",linkedinId:"",coverLetter:"",resumeId:""}),[p,f]=l.useState(null),x=l.useRef(null);l.useEffect(()=>{t||(u({name:"",email:"",phone:"",githubId:"",linkedinId:"",coverLetter:"",resumeId:""}),f(null),c(!1),i(!1),x.current&&(x.current.value=""))},[t]);const h=async v=>{var w;const D=(w=v.target.files)==null?void 0:w[0];if(D){if(D.size>2*1024*1024){o({title:"File too large",description:"Please upload a file smaller than 2MB",variant:"destructive"}),x.current&&(x.current.value="");return}c(!0),f(D),o({title:"Uploading resume...",description:"Please wait while we save your file"});try{console.log("Starting upload for:",D.name);const y=await Qa(D);console.log("Upload completed. Resume ID:",y),u(N=>({...N,resumeId:y})),c(!1),o({title:"✓ Resume uploaded!",description:"Your resume has been saved successfully"})}catch(y){console.error("Upload error:",y),c(!1);const N=y.message||"An error occurred. Please check your connection and try again.";o({title:"Upload error",description:N,variant:"destructive"}),f(null),x.current&&(x.current.value="")}}},A=async v=>{if(v.preventDefault(),!d.resumeId||!d.resumeId.trim()){o({title:"Resume required",description:"Please upload your resume before submitting",variant:"destructive"});return}if(!d.name||!d.email||!d.phone){o({title:"Required fields missing",description:"Please fill in all required fields",variant:"destructive"});return}i(!0),o({title:"Submitting application...",description:"Please wait a moment"});try{const D={...d,jobId:r,jobTitle:a,appliedAt:new Date().toISOString()};console.log("Submitting application:",D),await Ba(D)?(o({title:"✅ Application submitted!",description:"We will review your application and get back to you soon."}),s(!1),u({name:"",email:"",phone:"",githubId:"",linkedinId:"",coverLetter:"",resumeId:""}),f(null)):o({title:"Submission failed",description:"Failed to submit application. Please try again.",variant:"destructive"})}catch(D){console.error("Submit error:",D),o({title:"Error",description:"An error occurred. Please try again later.",variant:"destructive"})}finally{i(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{className:"max-w-2xl",children:[e.jsxs(oe,{children:[e.jsxs(de,{children:["Apply for ",a]}),e.jsx(me,{children:"Fill in your details below to apply for this position"})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Personal Information"]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Full Name *"}),e.jsx(T,{id:"name",value:d.name,onChange:v=>u({...d,name:v.target.value}),required:!0,placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"email",type:"email",value:d.email,onChange:v=>u({...d,email:v.target.value}),required:!0,placeholder:"john.doe@example.com",className:"pl-9"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"phone",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"phone",type:"tel",value:d.phone,onChange:v=>u({...d,phone:v.target.value}),required:!0,placeholder:"+91 1234567890",className:"pl-9"})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"font-semibold",children:"Professional Profiles"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"githubId",children:"GitHub Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"githubId",value:d.githubId,onChange:v=>u(D=>({...D,githubId:v.target.value})),placeholder:"yourusername",className:"pl-9"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Just the username, not full URL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"linkedinId",children:"LinkedIn Profile"}),e.jsxs("div",{className:"relative",children:[e.jsx(Os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"linkedinId",value:d.linkedinId,onChange:v=>u(D=>({...D,linkedinId:v.target.value})),placeholder:"linkedin.com/in/yourprofile",className:"pl-9"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),"Resume Upload"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"resume",children:"Upload Resume (PDF, DOC, DOCX) *"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{ref:x,id:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:h,disabled:m,required:!0}),m&&e.jsx(_,{className:"h-4 w-4 animate-spin text-primary"})]}),p&&!m&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-950 rounded border border-green-200 dark:border-green-800",children:[e.jsx(qs,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["✓ ",p.name," uploaded successfully"]})]}),m&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-950 rounded border border-blue-200 dark:border-blue-800",children:[e.jsx(_,{className:"h-4 w-4 animate-spin text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600",children:"Uploading to Firestore... Please wait"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 2MB. Supported: PDF, DOC, DOCX"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold",children:["Cover Letter ",e.jsx("span",{className:"text-muted-foreground text-sm font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"coverLetter",children:"Why are you interested in this position?"}),e.jsx(Y,{id:"coverLetter",value:d.coverLetter,onChange:v=>u(D=>({...D,coverLetter:v.target.value})),placeholder:"Tell us why you're a great fit for this role... (Optional)",rows:5}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This field is optional but recommended"})]})]}),e.jsxs(ce,{className:"pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:n||m,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:n||m||!d.resumeId,children:[n&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Uploading Resume...":"Submit Application"]})]}),m&&e.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Please wait while your resume is being saved..."})]})]})})}function dl(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(null),[m,c]=l.useState({open:!1,jobTitle:"",jobId:""});l.useEffect(()=>{(async()=>{const p=await Ha();s(p),r(!1)})()},[]);const o=u=>{const p={"full-time":"default","part-time":"secondary",contract:"outline",internship:"outline"};return e.jsx(I,{variant:p[u],children:u.replace("-"," ").toUpperCase()})},d=(u,p)=>{c({open:!0,jobTitle:u,jobId:p})};return e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsx("main",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"Careers"}]}),e.jsxs("div",{className:"mt-8 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold",children:"Join Our Team"}),e.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Be part of Moradabad's leading news organization. Explore career opportunities and grow with us."})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t.length===0?e.jsx(S,{children:e.jsxs(k,{className:"py-12 text-center",children:[e.jsx(He,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No openings at the moment"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check back later for new opportunities or send your resume to careers@moradabads.com"})]})}):e.jsx("div",{className:"space-y-6",children:t.map(u=>{const p=n===u.id;return e.jsxs(S,{children:[e.jsx(F,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"text-2xl",children:u.title}),o(u.type)]}),e.jsxs(H,{className:"mt-2 flex flex-wrap items-center gap-4 text-base",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"h-4 w-4"}),u.department]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ke,{className:"h-4 w-4"}),u.location]}),u.salary&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-4 w-4"}),u.salary]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-4 w-4"}),"Posted ",at(new Date(u.postedAt),"MMM d, yyyy")]})]})]})})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Description"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:u.description})]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Responsibilities"}),e.jsx("ul",{className:"mt-2 list-inside list-disc space-y-1 text-sm text-muted-foreground",children:u.responsibilities.map((f,x)=>e.jsx("li",{children:f},x))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Requirements"}),e.jsx("ul",{className:"mt-2 list-inside list-disc space-y-1 text-sm text-muted-foreground",children:u.requirements.map((f,x)=>e.jsx("li",{children:f},x))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(j,{onClick:()=>d(u.title,u.id),children:"Apply Now"}),e.jsx(j,{variant:"outline",onClick:()=>i(p?null:u.id),children:p?e.jsxs(e.Fragment,{children:[e.jsx(ms,{className:"mr-2 h-4 w-4"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})]})})]},u.id)})})]})]})}),e.jsx(Q,{}),e.jsx(cl,{open:m.open,onOpenChange:u=>c({...m,open:u}),jobTitle:m.jobTitle,jobId:m.jobId})]})}function ml(){const[t,s]=l.useState({name:"",email:"",subject:"",message:""}),[a,r]=l.useState(!1),{toast:n}=V(),i=c=>{s({...t,[c.target.name]:c.target.value})},m=async c=>{c.preventDefault(),r(!0);try{await $a(t)?(n({title:"Message Sent!",description:"Thank you for contacting us. We'll get back to you soon."}),s({name:"",email:"",subject:"",message:""})):n({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred. Please try again later.",variant:"destructive"})}finally{r(!1)}};return e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Name"}),e.jsx(T,{id:"name",name:"name",value:t.name,onChange:i,required:!0,placeholder:"Your name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(T,{id:"email",name:"email",type:"email",value:t.email,onChange:i,required:!0,placeholder:"your.email@example.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"subject",children:"Subject"}),e.jsx(T,{id:"subject",name:"subject",value:t.subject,onChange:i,required:!0,placeholder:"What is this about?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"message",children:"Message"}),e.jsx(Y,{id:"message",name:"message",value:t.message,onChange:i,required:!0,placeholder:"Your message...",rows:6})]}),e.jsx(j,{type:"submit",size:"lg",className:"w-full",disabled:a,children:a?"Sending...":"Send Message"})]})}function xl(){return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"Contact Us"}]}),e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-foreground md:text-5xl",children:"Contact Us"}),e.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-lg leading-relaxed text-muted-foreground",children:"Have a question, feedback, or news tip? We'd love to hear from you. Get in touch with our team."})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[e.jsx(S,{children:e.jsxs(k,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(Te,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"mb-2 font-serif text-lg font-bold text-foreground",children:"Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"info@moradabads.com"})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(Xe,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"mb-2 font-serif text-lg font-bold text-foreground",children:"Phone"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"+91 8791447027"})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(Ke,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"mb-2 font-serif text-lg font-bold text-foreground",children:"Address"}),e.jsxs("p",{className:"text-sm leading-relaxed text-muted-foreground",children:["Moradabad News Office",e.jsx("br",{}),"Civil Lines, Moradabad",e.jsx("br",{}),"Uttar Pradesh 244001",e.jsx("br",{}),"India"]})]})}),e.jsx(S,{children:e.jsxs(k,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-red-600",children:e.jsx(ne,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"mb-2 font-serif text-lg font-bold text-foreground",children:"Office Hours"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monday - Friday: 9:00 AM - 6:00 PM"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Saturday: 9:00 AM - 2:00 PM"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Sunday: Closed"})]})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(S,{children:e.jsxs(k,{className:"p-8",children:[e.jsx("h2",{className:"mb-6 font-serif text-2xl font-bold text-foreground",children:"Send us a Message"}),e.jsx(ml,{})]})})})]})]})}),e.jsx(Q,{})]})}function ul(){const[t,s]=l.useState([]),[a,r]=l.useState(!0);l.useEffect(()=>{n()},[]);const n=async()=>{try{const m=localStorage.getItem("services");if(m){const c=JSON.parse(m);s(c)}else s([]);r(!1)}catch(m){console.error("Error loading services:",m),s([]),r(!1)}},i=m=>{const c={active:{label:"Available",variant:"default",icon:qe},"coming-soon":{label:"Coming Soon",variant:"secondary",icon:ne},development:{label:"In Development",variant:"outline",icon:$e}},o=c[m]||c.development,d=o.icon;return e.jsxs(I,{variant:o.variant,className:"flex items-center gap-1",children:[e.jsx(d,{className:"h-3 w-3"}),o.label]})};return a?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(B,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(m=>e.jsx("div",{className:"h-64 bg-muted rounded-lg"},m))})]})}),e.jsx(Q,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(B,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Our ",e.jsx("span",{className:"text-primary",children:"Digital Services"})]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Professional digital solutions designed to streamline your operations and enhance productivity."})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-12",children:t.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Oe,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Services Available"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Services will be added soon. Please check back later."})]}):t.map(m=>e.jsxs(S,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-lg ${m.isPopular?"ring-2 ring-primary":""}`,children:[m.isPopular&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(I,{className:"bg-primary text-primary-foreground",children:"Popular"})}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary text-white",children:e.jsx(Oe,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xl",children:m.title}),e.jsx(I,{variant:"outline",className:"mt-1",children:m.category})]})]}),e.jsx(H,{className:"text-base",children:m.description})]}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Key Features:"}),e.jsx("ul",{className:"space-y-1",children:m.features.map((c,o)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(qe,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),c]},o))})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-semibold text-lg",children:"Available Now"}),i(m.status)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{className:"flex-1",asChild:!0,disabled:m.status!=="active",children:e.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",children:["Visit Service",e.jsx(Vs,{className:"h-4 w-4 ml-2"})]})}),e.jsx(j,{variant:"outline",size:"icon",asChild:!0,children:e.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Qe,{className:"h-4 w-4"})})})]})]})]})})]},m.id))}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-8 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Why Choose Our Services?"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qe,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:"Reliable & Secure"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise-grade security with 99.9% uptime guarantee"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:"24/7 Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Round-the-clock technical support and assistance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($e,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:"Easy to Use"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Intuitive interface designed for all skill levels"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Oe,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"font-semibold mb-2",children:"Comprehensive"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete solutions for all your digital needs"})]})]})]}),e.jsxs("div",{className:"bg-primary text-primary-foreground rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Need a Custom Solution?"}),e.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Contact us to discuss your specific requirements and get a personalized solution"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(j,{size:"lg",variant:"secondary",asChild:!0,children:e.jsx("a",{href:"/contact",children:"Contact Us"})}),e.jsx(j,{size:"lg",variant:"outline",className:"bg-transparent border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary",asChild:!0,children:e.jsx("a",{href:"mailto:info@moradabads.com",children:"Email Us"})})]})]})]}),e.jsx(Q,{})]})}function hl(){const[t,s]=l.useState([]),[a,r]=l.useState(0),[n,i]=l.useState(null),[m,c]=l.useState(!1),[o,d]=l.useState(0),[u,p]=l.useState([]),[f,x]=l.useState(!0),[h,A]=l.useState(!1);l.useEffect(()=>{v()},[]);async function v(){x(!0);const L=await Ja();s(L),x(!1)}const D=t[a],w=L=>{m||i(L)},y=async()=>{if(n===null)return;c(!0);const L=n===D.correctAnswer,O=L?o+1:o;L&&d(O);const $=[...u,a];if(p($),$.length===t.length&&!h){const fe={totalQuestions:t.length,score:O,percentage:Math.round(O/t.length*100)};await _a(fe)&&A(!0)}},N=()=>{a<t.length-1&&(r(a+1),i(null),c(!1))},E=()=>{a>0&&(r(a-1),i(null),c(!1))},P=()=>{r(0),i(null),c(!1),d(0),p([]),A(!1)};if(f)return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})})})}),e.jsx(Q,{})]});if(t.length===0)return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"Current Affairs Quiz"}]}),e.jsx(S,{className:"mt-6",children:e.jsxs(F,{children:[e.jsx(R,{children:"No Questions Available"}),e.jsx(H,{children:"Check back later for new quiz questions."})]})})]})}),e.jsx(Q,{})]});const g=u.length===t.length;return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"Current Affairs Quiz"}]}),e.jsx("div",{className:"mt-6 max-w-3xl mx-auto",children:e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-2xl",children:"Current Affairs Quiz"}),e.jsxs(I,{variant:"secondary",children:["Question ",a+1," of ",t.length]})]}),e.jsx(H,{children:"Test your knowledge of current events and affairs"})]}),e.jsx(k,{className:"space-y-6",children:g?e.jsxs("div",{className:"text-center space-y-4 py-8",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-lg",children:["Your final score: ",e.jsx("span",{className:"font-bold text-primary",children:o})," out of"," ",e.jsx("span",{className:"font-bold",children:t.length})]}),e.jsxs("p",{className:"text-muted-foreground",children:["You got ",Math.round(o/t.length*100),"% correct!"]}),e.jsx(j,{onClick:P,className:"mt-4",children:"Restart Quiz"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold leading-relaxed",children:D.question}),e.jsx("div",{className:"space-y-3",children:D.options.map((L,O)=>{const $=n===O,fe=O===D.correctAnswer,be=m&&fe,ye=m&&$&&!fe;return e.jsx("button",{onClick:()=>w(O),disabled:m,className:`w-full text-left p-4 rounded-lg border-2 transition-all ${be?"border-green-500 bg-green-50 dark:bg-green-950":ye?"border-red-500 bg-red-50 dark:bg-red-950":$?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${m?"cursor-not-allowed":"cursor-pointer"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:L}),be&&e.jsx(Bs,{className:"h-5 w-5 text-green-600"}),ye&&e.jsx($t,{className:"h-5 w-5 text-red-600"})]})},O)})}),m&&D.explanation&&e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Explanation:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.explanation})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx(j,{variant:"outline",onClick:E,disabled:a===0,children:"Previous"}),m?e.jsx(j,{onClick:N,disabled:a===t.length-1,children:"Next Question"}):e.jsx(j,{onClick:y,disabled:n===null,children:"Submit Answer"})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Score: ",o," / ",u.length]})]})})]})})]})}),e.jsx(Q,{})]})}function pl(){const[t,s]=l.useState([]),[a,r]=l.useState(!0);return l.useEffect(()=>{(async()=>{const i=await lt();s(i),r(!1)})()},[]),e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:"Trending News"}]}),e.jsxs("div",{className:"mb-8 flex items-center gap-2",children:[e.jsx(je,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-foreground",children:"Trending News"}),e.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Most popular and trending stories right now"})]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(n=>e.jsx(ze,{article:n},n.id))}):e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No trending articles available at the moment."})]})}),e.jsx(Q,{})]})}const fl={moradabad:"Moradabad News",up:"UP News",india:"India News",global:"Global News","current-affairs":"Current Affairs"};function gl(){const{category:t}=Qs(),[s,a]=l.useState([]),[r,n]=l.useState(!0);l.useEffect(()=>{let m=!0;async function c(){if(m){n(!0);try{const o=await we(t);m&&(a(o),n(!1))}catch(o){m&&(console.error("Error loading articles:",o),n(!1))}}}return t&&c(),()=>{m=!1}},[t]);const i=fl[t]||t;return r?e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})}),e.jsx(Q,{})]}):e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:i,href:`/news/${t}`}]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold text-foreground",children:i}),e.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Latest updates and breaking stories from ",i.toLowerCase()]})]}),s.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(m=>e.jsx(ze,{article:m},m.id))}):e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No articles available in this category."})]})}),e.jsx(Q,{})]})}const jl={moradabad:"Moradabad News",up:"UP News",india:"India News",global:"Global News","current-affairs":"Current Affairs"};async function vl(t,s){try{const a=zr(t);if(a){const i=await Ga(a);if(i&&i.category===s)return i}const r=await we(s),n=ns(t);return r.find(i=>{const m=i.englishTitle||i.title;return ns(m)===n})}catch(a){return console.error("Error finding article by slug:",a),null}}function Nl(){const{category:t,slug:s}=Qs(),[a,r]=l.useState(null),[n,i]=l.useState([]),[m,c]=l.useState(!0);if(l.useEffect(()=>{let d=!0;async function u(){if(d){c(!0);try{const p=await vl(s,t);if(!d)return;if(!p||p.category!==t){r(null),c(!1);return}r(p),Ya(p.id);const f=await Wa(p.id,t);d&&(i(f),c(!1))}catch(p){d&&(console.error("Error loading article:",p),r(null),c(!1))}}}return t&&s&&u(),()=>{d=!1}},[t,s]),m)return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})}),e.jsx(Q,{})]});if(!a)return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Article Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The article you're looking for doesn't exist."})]})}),e.jsx(Q,{})]});const o=jl[t];return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(ue,{items:[{label:o,href:`/news/${t}`},{label:a.title}]}),e.jsxs("article",{className:"mx-auto max-w-4xl",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"font-serif text-4xl font-bold leading-tight text-foreground md:text-5xl",children:a.title}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-4 w-4"}),a.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-4 w-4"}),Se(new Date(a.publishedAt),{addSuffix:!0})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"h-4 w-4"}),a.views.toLocaleString()," views"]})]})]}),a.image&&e.jsx("div",{className:"mb-8 overflow-hidden rounded-lg",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-auto object-cover"})}),e.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:a.content}}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"mt-8 flex flex-wrap gap-2",children:a.tags.map((d,u)=>e.jsxs("span",{className:"rounded-full bg-muted px-3 py-1 text-sm text-muted-foreground",children:["#",d]},u))})]}),n.length>0&&e.jsxs("div",{className:"mx-auto mt-16 max-w-6xl",children:[e.jsx("h2",{className:"mb-6 font-serif text-3xl font-bold text-foreground",children:"Recommended Articles"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(d=>e.jsx(ze,{article:d,compact:!0},d.id))})]})]})}),e.jsx(Q,{})]})}const te=Kt,ae=Xt,Z=l.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Hs,{ref:r,className:C("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(Jt,{asChild:!0,children:e.jsx(Re,{className:"h-4 w-4 opacity-50"})})]}));Z.displayName=Hs.displayName;const bt=l.forwardRef(({className:t,...s},a)=>e.jsx($s,{ref:a,className:C("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ms,{className:"h-4 w-4"})}));bt.displayName=$s.displayName;const yt=l.forwardRef(({className:t,...s},a)=>e.jsx(Js,{ref:a,className:C("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Re,{className:"h-4 w-4"})}));yt.displayName=Js.displayName;const ee=l.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(_t,{children:e.jsxs(_s,{ref:n,className:C("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(bt,{}),e.jsx(Yt,{className:C("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(yt,{})]})}));ee.displayName=_s.displayName;const bl=l.forwardRef(({className:t,...s},a)=>e.jsx(Ys,{ref:a,className:C("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));bl.displayName=Ys.displayName;const z=l.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Ws,{ref:r,className:C("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Wt,{children:e.jsx(us,{className:"h-4 w-4"})})}),e.jsx(Gt,{children:s})]}));z.displayName=Ws.displayName;const yl=l.forwardRef(({className:t,...s},a)=>e.jsx(Gs,{ref:a,className:C("-mx-1 my-1 h-px bg-muted",t),...s}));yl.displayName=Gs.displayName;class wl{constructor(){this.searchIndex=new Map,this.searchHistory=[],this.popularSearches=["Moradabad news","UP politics","weather forecast","business updates","education news","traffic updates","local events","breaking news"],this.isInitialized=!1}async initializeSearchIndex(){if(!this.isInitialized)try{const s=De(he,"articles"),a=Le(s,hs("publishedAt","desc"),ps(1e3)),n=(await Me(a)).docs.map(i=>{var m,c,o;return{id:i.id,...i.data(),publishedAt:((o=(c=(m=i.data().publishedAt)==null?void 0:m.toDate)==null?void 0:c.call(m))==null?void 0:o.toISOString())||i.data().publishedAt}});n.forEach(i=>{this.indexContent(i)}),this.isInitialized=!0,console.log(`Search index initialized with ${n.length} articles`)}catch(s){console.error("Failed to initialize search index:",s)}}indexContent(s){const a=[s.title,s.summary||s.excerpt,s.content,...s.tags||[],s.author,s.category].join(" ").toLowerCase();this.searchIndex.set(s.id,{...s,searchableText:a,indexedAt:new Date,excerpt:s.summary||s.excerpt,image:s.image||"/images/placeholder-news.jpg",views:s.views||0,likes:s.likes||0,readTime:s.readTime||"5 min read"})}async search(s,a={}){const{limit:r=20,offset:n=0,category:i="all",sortBy:m="relevance",includeContent:c=!1}=a;if(!s||s.trim().length<2)return{results:[],total:0,query:s,suggestions:this.getSearchSuggestions(s)};const o=s.toLowerCase().trim();this.addToSearchHistory(o);try{this.isInitialized||await this.initializeSearchIndex();const d=Array.from(this.searchIndex.values());let u=d;i!=="all"&&(u=d.filter(A=>A.category===i));const p=u.map(A=>{const v=this.calculateRelevanceScore(A,o);return{...A,relevanceScore:v}}).filter(A=>A.relevanceScore>0),x=this.sortResults(p,m).slice(n,n+r);return{results:c?x:x.map(A=>{const{content:v,...D}=A;return D}),total:p.length,query:s,suggestions:this.getSearchSuggestions(o),relatedSearches:this.getRelatedSearches(o)}}catch(d){return console.error("Search error:",d),{results:[],total:0,query:s,error:"Search failed"}}}calculateRelevanceScore(s,a){const r=s.searchableText,n=a.split(" ").filter(c=>c.length>1);let i=0;return s.title.toLowerCase().includes(a)&&(i+=10),n.forEach(c=>{s.title.toLowerCase().includes(c)&&(i+=5)}),s.excerpt.toLowerCase().includes(a)&&(i+=3),s.tags&&s.tags.some(c=>c.toLowerCase().includes(a))&&(i+=4),s.category.toLowerCase().includes(a)&&(i+=2),s.content&&s.content.toLowerCase().includes(a)&&(i+=1),s.author&&s.author.toLowerCase().includes(a)&&(i+=2),r.includes(a)&&(i+=2),(Date.now()-new Date(s.publishedAt).getTime())/(1e3*60*60*24)<7&&(i+=1),Math.min(i,20)}sortResults(s,a){switch(a){case"relevance":return s.sort((r,n)=>n.relevanceScore-r.relevanceScore);case"date":return s.sort((r,n)=>new Date(n.publishedAt)-new Date(r.publishedAt));case"popular":return s.sort((r,n)=>(n.likes||0)-(r.likes||0));case"views":return s.sort((r,n)=>(n.views||0)-(r.views||0));default:return s}}getSearchSuggestions(s){if(!s||s.length<2)return this.popularSearches.slice(0,5);const a=this.popularSearches.filter(n=>n.toLowerCase().includes(s.toLowerCase())),r=this.searchHistory.filter(n=>n.toLowerCase().includes(s.toLowerCase())&&!a.includes(n));return[...a,...r].slice(0,5)}getRelatedSearches(s){const a={moradabad:["moradabad news","moradabad weather","moradabad traffic"],politics:["UP politics","election news","government updates"],weather:["weather forecast","rain updates","temperature"],business:["business news","economy","market updates"],education:["school news","college updates","education policy"],sports:["cricket news","sports updates","tournament results"]},r=s.toLowerCase();for(const[n,i]of Object.entries(a))if(r.includes(n))return i;return[]}addToSearchHistory(s){this.searchHistory=this.searchHistory.filter(a=>a!==s),this.searchHistory.unshift(s),this.searchHistory=this.searchHistory.slice(0,20);try{localStorage.setItem("search-history",JSON.stringify(this.searchHistory))}catch(a){console.warn("Failed to save search history:",a)}}getSearchHistory(){try{const s=localStorage.getItem("search-history");s&&(this.searchHistory=JSON.parse(s))}catch(s){console.warn("Failed to load search history:",s)}return this.searchHistory}clearSearchHistory(){this.searchHistory=[];try{localStorage.removeItem("search-history")}catch(s){console.warn("Failed to clear search history:",s)}}getTrendingSearches(){return["Moradabad news","UP politics","weather forecast","business updates","education news","traffic updates","local events","breaking news","sports news","health updates"]}getSearchAnalytics(){return{totalSearches:this.searchHistory.length,popularSearches:this.popularSearches,recentSearches:this.searchHistory.slice(0,10),indexedContent:this.searchIndex.size}}async refreshSearchIndex(){this.isInitialized=!1,this.searchIndex.clear(),await this.initializeSearchIndex()}addArticleToIndex(s){this.indexContent(s)}removeArticleFromIndex(s){this.searchIndex.delete(s)}updateArticleInIndex(s){this.indexContent(s)}getAutoCompleteSuggestions(s){if(!s||s.length<1)return[];const a=[...this.popularSearches,...this.searchHistory,...Array.from(this.searchIndex.values()).map(n=>n.title)];return[...new Set(a)].filter(n=>n.toLowerCase().includes(s.toLowerCase())).slice(0,8)}}const X=new wl;X.initializeSearchIndex();const{search:wn,getSearchSuggestions:Sn,getRelatedSearches:Cn,getSearchHistory:An,clearSearchHistory:kn,getTrendingSearches:Tn,getSearchAnalytics:Dn,getAutoCompleteSuggestions:En,refreshSearchIndex:In,addArticleToIndex:Fn,removeArticleFromIndex:Rn,updateArticleInIndex:Pn}=X;function Sl(){const[t,s]=l.useState([]),[a,r]=l.useState(!1),[n,i]=l.useState(null),[m,c]=l.useState(""),[o,d]=l.useState(!1),u=l.useCallback(async(w,y={})=>{if(!w||w.trim().length<2){s([]),d(!1);return}r(!0),i(null),d(!0);try{const N=await X.search(w,y);s(N.results||[])}catch(N){i(N.message),s([])}finally{r(!1)}},[]),p=l.useCallback(w=>X.getSearchSuggestions(w),[]),f=l.useCallback(()=>X.getTrendingSearches(),[]),x=l.useCallback(()=>X.getSearchHistory(),[]),h=l.useCallback(()=>{X.clearSearchHistory()},[]),A=l.useCallback(w=>X.getAutoCompleteSuggestions(w),[]),v=l.useCallback(w=>X.getRelatedSearches(w),[]),D=l.useCallback(()=>X.getSearchAnalytics(),[]);return{searchResults:t,isLoading:a,error:n,searchQuery:m,setSearchQuery:c,hasSearched:o,performSearch:u,getSuggestions:p,getTrendingSearches:f,getSearchHistory:x,clearSearchHistory:h,getAutoComplete:A,getRelatedSearches:v,getSearchAnalytics:D}}function Cl(){const[t,s]=l.useState({category:"all",sortBy:"relevance",limit:20,offset:0}),{searchResults:a,isLoading:r,error:n,searchQuery:i,setSearchQuery:m,hasSearched:c,performSearch:o}=Sl(),d=l.useCallback(f=>o(f,t),[o,t]),u=l.useCallback(f=>{s(x=>({...x,...f}))},[]),p=l.useCallback(()=>{s({category:"all",sortBy:"relevance",limit:20,offset:0})},[]);return l.useEffect(()=>{i&&c&&d(i)},[t,i,c,d]),{searchResults:a,isLoading:r,error:n,searchQuery:i,setSearchQuery:m,hasSearched:c,filters:t,updateFilters:u,resetFilters:p,performSearch:d}}const Al=[{id:"all",name:"All Results"},{id:"news",name:"News"},{id:"technology",name:"Technology"},{id:"politics",name:"Politics"},{id:"business",name:"Business"},{id:"education",name:"Education"},{id:"weather",name:"Weather"}],kl=[{id:"relevance",name:"Most Relevant"},{id:"date",name:"Latest First"},{id:"popular",name:"Most Popular"},{id:"views",name:"Most Viewed"}];function Tl(){const[t,s]=Zt(),{searchResults:a,isLoading:r,searchQuery:n,setSearchQuery:i,hasSearched:m,filters:c,updateFilters:o,performSearch:d}=Cl(),u=c.category,p=c.sortBy,f=a;l.useEffect(()=>{const v=t.get("q")||"";i(v),v.trim()&&d(v)},[t,d]);const x=v=>{v.preventDefault(),n.trim()&&(s({q:n.trim()}),d(n.trim()))},h=v=>{i(v.target.value)},A=()=>X.getTrendingSearches();return e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(B,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx("section",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Search Results"}),e.jsx("form",{onSubmit:x,className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(T,{type:"text",placeholder:"Search news, articles, and more...",value:n,onChange:h,className:"pl-10 text-lg",autoFocus:!0})]}),e.jsxs(j,{type:"submit",size:"lg",className:"md:w-auto",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Search"]})]})}),!m&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Popular Searches"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A().map((v,D)=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>{i(v),s({q:v}),d(v)},className:"text-sm",children:v},D))})]})]})})}),m&&e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 space-y-6",children:e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-5 w-5"}),"Filters"]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),e.jsxs(te,{value:u,onValueChange:v=>o({category:v}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsx(ee,{children:Al.map(v=>e.jsx(z,{value:v.id,children:v.name},v.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort By"}),e.jsxs(te,{value:p,onValueChange:v=>o({sortBy:v}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsx(ee,{children:kl.map(v=>e.jsx(z,{value:v.id,children:v.name},v.id))})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:r?"Searching...":`${f.length} results found`}),n&&e.jsxs("p",{className:"text-muted-foreground",children:['Results for "',e.jsx("span",{className:"font-semibold",children:n}),'"']})]})}),r&&e.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>e.jsx(S,{className:"animate-pulse",children:e.jsxs(k,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})},v))}),!r&&f.length>0&&e.jsx("div",{className:"space-y-6",children:f.map(v=>e.jsx(S,{className:"group hover:shadow-lg transition-all duration-300",children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:D=>{D.target.src="/images/placeholder-news.jpg"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{variant:"secondary",children:v.category}),e.jsx(I,{variant:"outline",className:"text-xs",children:v.type}),e.jsx(I,{variant:"outline",className:"text-xs",children:v.readTime})]}),e.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-primary transition-colors",children:e.jsx(M,{to:Ee(v),children:v.title})}),e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:v.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{children:v.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx("span",{children:at(new Date(v.publishedAt),"MMM dd, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsxs("span",{children:[v.views," views"]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{children:["❤️ ",v.likes]})})]})]})]})]})})},v.id))}),!r&&f.length===0&&m&&e.jsx(S,{children:e.jsxs(k,{className:"p-8 text-center",children:[e.jsx(cs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No results found"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:[`We couldn't find any results for "`,e.jsx("span",{className:"font-semibold",children:n}),'"']}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Using different keywords"}),e.jsx("li",{children:"• Checking your spelling"}),e.jsx("li",{children:"• Using more general terms"}),e.jsx("li",{children:"• Trying related terms"})]})]})]})})]})]})})})]}),e.jsx(Q,{})]})}function Dl(){return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("h1",{className:"text-9xl md:text-[12rem] font-bold text-primary/20 leading-none",children:"404"})}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Page Not Found"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-md",children:"Sorry, we couldn't find the page you're looking for. The article may have been moved or deleted."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[e.jsxs(M,{to:"/",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[e.jsx(Ks,{className:"h-5 w-5"}),"Go to Homepage"]}),e.jsxs(M,{to:"/news/moradabad",className:"inline-flex items-center justify-center gap-2 px-6 py-3 border border-input bg-transparent rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[e.jsx(cs,{className:"h-5 w-5"}),"Browse News"]})]}),e.jsxs("div",{className:"w-full border-t pt-8",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-4 uppercase tracking-wide",children:"Quick Links"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(M,{to:"/news/moradabad",className:"text-sm hover:text-primary transition-colors",children:"Moradabad News"}),e.jsx(M,{to:"/news/up",className:"text-sm hover:text-primary transition-colors",children:"UP News"}),e.jsx(M,{to:"/news/india",className:"text-sm hover:text-primary transition-colors",children:"India News"}),e.jsx(M,{to:"/news/global",className:"text-sm hover:text-primary transition-colors",children:"Global News"}),e.jsx(M,{to:"/news/trending",className:"text-sm hover:text-primary transition-colors",children:"Trending"}),e.jsx(M,{to:"/current-affairs",className:"text-sm hover:text-primary transition-colors",children:"Current Affairs"}),e.jsx(M,{to:"/about",className:"text-sm hover:text-primary transition-colors",children:"About Us"}),e.jsx(M,{to:"/contact",className:"text-sm hover:text-primary transition-colors",children:"Contact"}),e.jsx(M,{to:"/services",className:"text-sm hover:text-primary transition-colors",children:"Services"})]})]})]})})}),e.jsx(Q,{})]})}const U={MASTER:"master",EMPLOYEE:"employee"},re=()=>{const t=localStorage.getItem("adminAuth");if(!t)return null;try{return JSON.parse(t)}catch(s){return console.error("Error parsing user data:",s),null}},ss=()=>{const t=re();return(t==null?void 0:t.role)===U.MASTER},El=async(t,s)=>{try{const a=De(he,"users"),r=Le(a,nt("email","==",t)),n=await Me(r);if(n.empty)throw new Error("Invalid email or password");const i=n.docs[0],m={id:i.id,...i.data()};if(m.password!==s)throw new Error("Invalid email or password");const{password:c,...o}=m;return localStorage.setItem("adminAuth",JSON.stringify(o)),o}catch(a){throw console.error("Login error:",a),a}},Il=()=>{localStorage.removeItem("adminAuth")},Fl=async t=>{var s;if(!ss())throw new Error("Only master admin can create users");try{const a=De(he,"users"),r=Le(a,nt("email","==",t.email));if(!(await Me(r)).empty)throw new Error("User with this email already exists");const i={name:t.name,email:t.email,phone:t.phone||"",role:t.role||U.EMPLOYEE,password:t.password,createdAt:new Date().toISOString(),createdBy:(s=re())==null?void 0:s.id};return{id:(await Xa(a,i)).id,...i}}catch(a){throw console.error("Error creating user:",a),a}},Rl=async()=>{if(!ss())throw new Error("Only master admin can view all users");try{const t=De(he,"users");return(await Me(t)).docs.map(a=>({id:a.id,...a.data()}))}catch(t){throw console.error("Error fetching users:",t),t}},wt=async(t,s)=>{const a=re();if(!a)throw new Error("Not authenticated");if(a.role!==U.MASTER&&a.id!==t)throw new Error("You can only update your own profile");try{const r={...s};delete r.email,delete r.id,a.role!==U.MASTER&&delete r.role,r.updatedAt=new Date().toISOString();const n=it(he,"users",t);if(await Ka(n,r),a.id===t){const i={...a,...r};localStorage.setItem("adminAuth",JSON.stringify(i))}return!0}catch(r){throw console.error("Error updating user:",r),r}},Pl=async t=>{if(!ss())throw new Error("Only master admin can delete users");if(re().id===t)throw new Error("You cannot delete your own account");try{const a=it(he,"users",t);return await Za(a),!0}catch(a){throw console.error("Error deleting user:",a),a}};function Ll(){const[t,s]=l.useState(""),[a,r]=l.useState(""),[n,i]=l.useState(!1),m=Ae(),{toast:c}=V(),o=async d=>{d.preventDefault(),i(!0);try{const u=await El(t,a);u&&(c({title:"Login Successful",description:`Welcome back, ${u.name}!`}),m("/nimda/dashboard"))}catch(u){console.error("Login error:",u),c({title:"Login Failed",description:u.message||"Invalid email or password. Please check your credentials.",variant:"destructive"})}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:e.jsxs(S,{className:"w-full max-w-md",children:[e.jsxs(F,{className:"text-center",children:[e.jsx(R,{className:"text-2xl",children:"Admin Login"}),e.jsx(H,{children:"Enter your credentials to access the admin panel"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(T,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:d=>s(d.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),e.jsx(T,{id:"password",type:"password",placeholder:"Enter password",value:a,onChange:d=>r(d.target.value),required:!0})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:n,children:n?"Logging in...":"Login"})]})})]})})}const Ml=[{title:"Dashboard",to:"/nimda/dashboard",icon:sa,roles:[U.MASTER]},{title:"Posts",to:"/nimda/posts",icon:Ze,roles:[U.MASTER,U.EMPLOYEE]},{title:"Categories",to:"/nimda/categories",icon:Xs,roles:[U.MASTER]},{title:"Quiz",to:"/nimda/quiz",icon:Zs,roles:[U.MASTER,U.EMPLOYEE]},{title:"Videos",to:"/nimda/videos",icon:ta,roles:[U.MASTER]},{title:"Headers",to:"/nimda/headers",icon:aa,roles:[U.MASTER]},{title:"Messages",to:"/nimda/messages",icon:Te,roles:[U.MASTER,U.EMPLOYEE]},{title:"Careers",to:"/nimda/careers",icon:He,roles:[U.MASTER]},{title:"Applications",to:"/nimda/applications",icon:ds,roles:[U.MASTER]},{title:"Analytics",to:"/nimda/analytics",icon:ra,roles:[U.MASTER]},{title:"Services",to:"/nimda/services",icon:la,roles:[U.MASTER]},{title:"User Management",to:"/nimda/users",icon:na,roles:[U.MASTER]},{title:"Settings",to:"/nimda/settings",icon:$e,roles:[U.MASTER,U.EMPLOYEE]}];function zl(){const s=is().pathname,a=re(),r=Ml.filter(n=>n.roles.includes(a==null?void 0:a.role));return e.jsxs("aside",{className:"w-64 border-r border-border bg-card",children:[e.jsx("div",{className:"flex h-16 items-center border-b border-border px-6",children:e.jsx(M,{to:"/",className:"flex items-center gap-2",children:e.jsx("span",{className:"font-serif text-xl font-bold text-foreground",children:"Moradabad News"})})}),e.jsxs("nav",{className:"space-y-1 p-4",children:[e.jsxs(M,{to:"/",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",children:[e.jsx(Ks,{className:"h-4 w-4"}),"View Site"]}),e.jsx("div",{className:"my-4 border-t border-border"}),r.map(n=>{const i=s===n.to,m=n.icon;return e.jsxs(M,{to:n.to,className:C("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors",i?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[e.jsx(m,{className:"h-4 w-4"}),n.title]},n.to)})]})]})}function Ul(){const{setTheme:t,theme:s}=mt(),a=Ae(),{toast:r}=V(),n=re(),i=()=>{const c=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s;t(c==="dark"?"light":"dark")},m=()=>{Il(),r({title:"Logged out successfully",description:"You have been logged out of the admin panel"}),a("/nimda")};return e.jsxs("header",{className:"flex h-16 items-center justify-between border-b border-border bg-card px-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Admin Panel"}),n&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Welcome, ",n.name]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"ghost",size:"icon",onClick:i,title:`Switch to ${s==="dark"||s==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark"} mode`,children:[e.jsx(Ps,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Ls,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),e.jsxs(j,{variant:"ghost",size:"icon",onClick:m,title:"Logout",children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Logout"})]})]})]})}function J({children:t}){const s=Ae(),r=is().pathname,[n,i]=l.useState(!1),[m,c]=l.useState(!0);return l.useEffect(()=>{const o=re();!o&&r!=="/nimda"?s("/nimda"):o&&i(!0),c(!1)},[r,s]),r==="/nimda"?e.jsx(e.Fragment,{children:t}):m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n?e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(zl,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Ul,{}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-muted/30 p-6",children:t})]})]}):null}function Ol(){const[t,s]=l.useState({totalArticles:0,trendingArticles:0,totalViews:0,totalQuizQuestions:0,quizCompletions:0});l.useEffect(()=>{a()},[]);async function a(){const r=await ot(),n=await ct(),i=await er(),m=r.reduce((o,d)=>o+d.views,0),c=r.filter(o=>o.isTrending).length;s({totalArticles:r.length,trendingArticles:c,totalViews:m,totalQuizQuestions:n.length,quizCompletions:i})}return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Overview of your news website"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Total Articles"}),e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalArticles}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Published articles"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Trending"}),e.jsx(je,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.trendingArticles}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trending articles"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Article views"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Quiz Questions"}),e.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.totalQuizQuestions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Current affairs quiz"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Quiz Completions"}),e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.quizCompletions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total completions"})]})]})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Welcome to Admin Panel"}),e.jsx(H,{children:"Manage your news website content from here"})]}),e.jsx(k,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the sidebar to navigate between different sections. You can manage articles, categories, quiz questions, and site settings."})})]})]})})}const Je=l.forwardRef(({className:t,...s},a)=>e.jsx(et,{className:C("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(oa,{className:C("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Je.displayName=et.displayName;function St({open:t,onOpenChange:s,onSuccess:a,post:r}){const{toast:n}=V(),[i,m]=l.useState(!1),[c,o]=l.useState(!1),[d,u]=l.useState({title:"",englishTitle:"",summary:"",content:"",category:"moradabad",image:"",author:"",tags:"",isFeatured:!1,isTrending:!1,metaTitle:"",metaDescription:"",metaKeywords:"",ogImage:""});l.useEffect(()=>{var f;u(r?{title:r.title,englishTitle:r.englishTitle||"",summary:r.summary,content:r.content,category:r.category,image:r.image,author:r.author,tags:r.tags.join(", "),isFeatured:r.isFeatured,isTrending:r.isTrending,metaTitle:r.metaTitle||"",metaDescription:r.metaDescription||"",metaKeywords:((f=r.metaKeywords)==null?void 0:f.join(", "))||"",ogImage:r.ogImage||""}:{title:"",englishTitle:"",summary:"",content:"",category:"moradabad",image:"",author:"",tags:"",isFeatured:!1,isTrending:!1,metaTitle:"",metaDescription:"",metaKeywords:"",ogImage:""})},[r,t]);const p=async f=>{f.preventDefault(),m(!0);const x={...d,tags:d.tags.split(",").map(h=>h.trim()).filter(Boolean),metaTitle:d.metaTitle||void 0,metaDescription:d.metaDescription||void 0,metaKeywords:d.metaKeywords?d.metaKeywords.split(",").map(h=>h.trim()).filter(Boolean):void 0,ogImage:d.ogImage||void 0};try{let h;r?h=await sr(r.id,x):h=await tr(x),h?(n({title:"Success",description:r?"Post updated successfully":"Post created successfully"}),a()):n({title:"Error",description:"Failed to save post",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred",variant:"destructive"})}finally{m(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(oe,{children:[e.jsx(de,{children:r?"Edit Post":"Create New Post"}),e.jsx(me,{children:r?"Update the post details below":"Fill in the details to create a new post"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"title",children:"Title *"}),e.jsx(T,{id:"title",value:d.title,onChange:f=>u({...d,title:f.target.value}),required:!0,placeholder:"Enter post title (Hindi/English)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"englishTitle",children:"English Title (for URL)"}),e.jsx(T,{id:"englishTitle",value:d.englishTitle,onChange:f=>u({...d,englishTitle:f.target.value}),placeholder:"Enter English title for URL generation"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"If main title is in Hindi, provide English title for better URL generation"})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"category",children:"Category *"}),e.jsxs(te,{value:d.category,onValueChange:f=>u({...d,category:f}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:"moradabad",children:"Moradabad"}),e.jsx(z,{value:"up",children:"UP"}),e.jsx(z,{value:"india",children:"India"}),e.jsx(z,{value:"global",children:"Global"}),e.jsx(z,{value:"current-affairs",children:"Current Affairs"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"summary",children:"Summary *"}),e.jsx(Y,{id:"summary",value:d.summary,onChange:f=>u({...d,summary:f.target.value}),required:!0,placeholder:"Brief summary of the article",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"content",children:"Content *"}),e.jsx(Y,{id:"content",value:d.content,onChange:f=>u({...d,content:f.target.value}),required:!0,placeholder:"Full article content (HTML supported)",rows:10})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"image",children:"Image URL *"}),e.jsx(T,{id:"image",value:d.image,onChange:f=>u({...d,image:f.target.value}),required:!0,placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"author",children:"Author *"}),e.jsx(T,{id:"author",value:d.author,onChange:f=>u({...d,author:f.target.value}),required:!0,placeholder:"Author name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"tags",children:"Tags (comma-separated)"}),e.jsx(T,{id:"tags",value:d.tags,onChange:f=>u({...d,tags:f.target.value}),placeholder:"news, breaking, local"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{id:"featured",checked:d.isFeatured,onCheckedChange:f=>u({...d,isFeatured:f})}),e.jsx(b,{htmlFor:"featured",className:"cursor-pointer",children:"Featured"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{id:"trending",checked:d.isTrending,onCheckedChange:f=>u({...d,isTrending:f})}),e.jsx(b,{htmlFor:"trending",className:"cursor-pointer",children:"Trending"})]})]}),e.jsxs("div",{children:[e.jsxs(j,{type:"button",variant:"outline",className:"w-full",onClick:()=>o(!c),children:[e.jsx(Re,{className:`mr-2 h-4 w-4 transition-transform ${c?"rotate-180":""}`}),c?"Hide":"Show"," SEO Metadata"]}),c&&e.jsxs("div",{className:"mt-4 space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"metaTitle",children:"Meta Title"}),e.jsx(T,{id:"metaTitle",value:d.metaTitle,onChange:f=>u({...d,metaTitle:f.target.value}),placeholder:"SEO title (defaults to post title)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"metaDescription",children:"Meta Description"}),e.jsx(Y,{id:"metaDescription",value:d.metaDescription,onChange:f=>u({...d,metaDescription:f.target.value}),placeholder:"SEO description (defaults to summary)",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"metaKeywords",children:"Meta Keywords (comma-separated)"}),e.jsx(T,{id:"metaKeywords",value:d.metaKeywords,onChange:f=>u({...d,metaKeywords:f.target.value}),placeholder:"keyword1, keyword2, keyword3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"ogImage",children:"OG Image URL"}),e.jsx(T,{id:"ogImage",value:d.ogImage,onChange:f=>u({...d,ogImage:f.target.value}),placeholder:"Social media share image URL"})]})]})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:i,children:[i&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Post":"Create Post"]})]})]})]})})}function ql({onEdit:t}){const[s,a]=l.useState([]),[r,n]=l.useState(!0),[i,m]=l.useState(void 0),[c,o]=l.useState(!1),{toast:d}=V();l.useEffect(()=>{u()},[]);async function u(){n(!0);const h=await ot();a(h),n(!1)}async function p(h){if(!confirm("Are you sure you want to delete this post?"))return;await ar(h)?(d({title:"Success",description:"Post deleted successfully"}),u()):d({title:"Error",description:"Failed to delete post",variant:"destructive"})}function f(h){m(h),o(!0)}function x(){o(!1),m(void 0),u()}return r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?e.jsx(S,{children:e.jsx(k,{className:"flex flex-col items-center justify-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No posts found. Create your first post to get started."})})}):e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx(k,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-border bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Author"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Published"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:s.map(h=>{var A;return e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx("p",{className:"font-medium text-foreground line-clamp-1",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:h.summary})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(I,{variant:"outline",className:"capitalize",children:h.category.replace("-"," ")})}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:h.author}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(xe,{className:"h-3 w-3"}),((A=h.views)==null?void 0:A.toLocaleString())||0]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:es(h.publishedAt)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-1",children:[h.isFeatured&&e.jsx(I,{className:"bg-blue-600",children:"Featured"}),h.isTrending&&e.jsx(I,{className:"bg-orange-600",children:"Trending"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(j,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(h),children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),e.jsxs(j,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>p(h.id),children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},h.id)})})]})})})}),e.jsx(St,{open:c,onOpenChange:o,onSuccess:x,post:i})]})}function Vl(){const[t,s]=l.useState(!1),[a,r]=l.useState(0),n=()=>{s(!1),r(i=>i+1)};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Posts"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your news articles"})]}),e.jsxs(j,{onClick:()=>s(!0),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Create Post"]})]}),e.jsx(ql,{onEdit:i=>s(!0)},a),e.jsx(St,{open:t,onOpenChange:s,onSuccess:n})]})})}function Bl({open:t,onOpenChange:s,onSuccess:a,category:r}){const{toast:n}=V(),[i,m]=l.useState(!1),[c,o]=l.useState({name:"",slug:"",description:""});l.useEffect(()=>{o(r?{name:r.name,slug:r.slug,description:r.description||""}:{name:"",slug:"",description:""})},[r,t]);const d=async u=>{u.preventDefault(),m(!0);try{let p;r?p=await rr(r.id,c):p=await lr(c),p?(n({title:"Success",description:r?"Category updated successfully":"Category created successfully"}),a(),s(!1)):n({title:"Error",description:"Failed to save category",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred",variant:"destructive"})}finally{m(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{children:[e.jsxs(oe,{children:[e.jsx(de,{children:r?"Edit Category":"Add New Category"}),e.jsx(me,{children:r?"Update the category details":"Create a new news category"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Name *"}),e.jsx(T,{id:"name",value:c.name,onChange:u=>o({...c,name:u.target.value}),required:!0,placeholder:"Category name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"slug",children:"Slug *"}),e.jsx(T,{id:"slug",value:c.slug,onChange:u=>o({...c,slug:u.target.value.toLowerCase().replace(/\s+/g,"-")}),required:!0,placeholder:"category-slug"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"description",children:"Description"}),e.jsx(Y,{id:"description",value:c.description,onChange:u=>o({...c,description:u.target.value}),placeholder:"Category description",rows:3})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:i,children:[i&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Category":"Create Category"]})]})]})]})})}function Ql(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(!1),[m,c]=l.useState(null),{toast:o}=V(),d=async()=>{r(!0);const x=await nr();s(x),r(!1)};l.useEffect(()=>{d()},[]);const u=x=>{c(x),i(!0)},p=()=>{i(!1),c(null),d()},f=async x=>{confirm("Are you sure you want to delete this category?")&&(await ir(x)?(o({title:"Category deleted successfully"}),d()):o({title:"Failed to delete category",variant:"destructive"}))};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Categories"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your news categories"})]}),e.jsxs(j,{onClick:()=>i(!0),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Add Category"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx(S,{children:e.jsx(k,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-border bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Slug"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:t.map(x=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"px-6 py-4 font-medium",children:x.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(I,{variant:"outline",children:x.slug})}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:x.description||"N/A"}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>u(x),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>f(x.id),children:e.jsx(se,{className:"h-4 w-4"})})]})})]},x.id))})]})})})}),e.jsx(Bl,{open:n,onOpenChange:i,category:m,onSuccess:p})]})})}function Hl({open:t,onOpenChange:s,onSuccess:a,job:r}){const{toast:n}=V(),[i,m]=l.useState(!1),[c,o]=l.useState({title:"",department:"",location:"",type:"Full-time",description:"",requirements:[],responsibilities:[],salary:"",isActive:!0}),[d,u]=l.useState(""),[p,f]=l.useState("");l.useEffect(()=>{o(r?{title:r.title,department:r.department,location:r.location,type:r.type,description:r.description,requirements:r.requirements||[],responsibilities:r.responsibilities||[],salary:r.salary||"",isActive:r.isActive}:{title:"",department:"",location:"",type:"Full-time",description:"",requirements:[],responsibilities:[],salary:"",isActive:!0})},[r,t]);const x=()=>{d.trim()&&(o({...c,requirements:[...c.requirements,d.trim()]}),u(""))},h=w=>{o({...c,requirements:c.requirements.filter((y,N)=>N!==w)})},A=()=>{p.trim()&&(o({...c,responsibilities:[...c.responsibilities,p.trim()]}),f(""))},v=w=>{o({...c,responsibilities:c.responsibilities.filter((y,N)=>N!==w)})},D=async w=>{w.preventDefault(),m(!0);try{let y;r?y=await or(r.id,c):y=await cr(c),y?(n({title:"Success",description:r?"Job updated successfully":"Job posted successfully"}),a(),s(!1)):n({title:"Error",description:"Failed to save job",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred",variant:"destructive"})}finally{m(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(oe,{children:[e.jsx(de,{children:r?"Edit Job":"Post New Job"}),e.jsx(me,{children:"Fill in the details for the job posting"})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"title",children:"Job Title *"}),e.jsx(T,{id:"title",value:c.title,onChange:w=>o({...c,title:w.target.value}),required:!0,placeholder:"e.g., Content Writer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"department",children:"Department *"}),e.jsx(T,{id:"department",value:c.department,onChange:w=>o({...c,department:w.target.value}),required:!0,placeholder:"e.g., Editorial"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"location",children:"Location *"}),e.jsx(T,{id:"location",value:c.location,onChange:w=>o({...c,location:w.target.value}),required:!0,placeholder:"e.g., Moradabad, UP"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"type",children:"Job Type *"}),e.jsxs(te,{value:c.type,onValueChange:w=>o({...c,type:w}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:"Full-time",children:"Full-time"}),e.jsx(z,{value:"Part-time",children:"Part-time"}),e.jsx(z,{value:"Contract",children:"Contract"}),e.jsx(z,{value:"Internship",children:"Internship"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"salary",children:"Salary (Optional)"}),e.jsx(T,{id:"salary",value:c.salary,onChange:w=>o({...c,salary:w.target.value}),placeholder:"e.g., ₹25,000 - ₹35,000/month"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"description",children:"Job Description *"}),e.jsx(Y,{id:"description",value:c.description,onChange:w=>o({...c,description:w.target.value}),required:!0,placeholder:"Brief description of the role...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Requirements"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{value:d,onChange:w=>u(w.target.value),placeholder:"Add a requirement",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),x())}}),e.jsx(j,{type:"button",onClick:x,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"space-y-1 mt-2",children:c.requirements.map((w,y)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[e.jsx("span",{className:"text-sm",children:w}),e.jsx(j,{type:"button",size:"sm",variant:"ghost",onClick:()=>h(y),children:e.jsx(Ce,{className:"h-4 w-4"})})]},y))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Responsibilities"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{value:p,onChange:w=>f(w.target.value),placeholder:"Add a responsibility",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),A())}}),e.jsx(j,{type:"button",onClick:A,variant:"outline",children:"Add"})]}),e.jsx("div",{className:"space-y-1 mt-2",children:c.responsibilities.map((w,y)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[e.jsx("span",{className:"text-sm",children:w}),e.jsx(j,{type:"button",size:"sm",variant:"ghost",onClick:()=>v(y),children:e.jsx(Ce,{className:"h-4 w-4"})})]},y))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{id:"isActive",checked:c.isActive,onCheckedChange:w=>o({...c,isActive:w})}),e.jsx(b,{htmlFor:"isActive",children:"Active (visible on careers page)"})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:i,children:[i&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Job":"Post Job"]})]})]})]})})}function $l(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(!1),[m,c]=l.useState(null),{toast:o}=V(),d=async()=>{r(!0);const h=await dr();s(h),r(!1)};l.useEffect(()=>{d()},[]);const u=async h=>{confirm("Are you sure you want to delete this job?")&&await mr(h)&&(o({title:"Job deleted successfully"}),d())},p=(h=null)=>{c(h),i(!0)},f=()=>{i(!1),c(null)},x=()=>{d(),f()};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Manage Careers"}),e.jsx("p",{className:"text-muted-foreground",children:"Post and manage job openings"})]}),e.jsxs(j,{onClick:()=>p(),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx("div",{className:"space-y-4",children:t.map(h=>e.jsx(S,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:h.title}),e.jsx(I,{variant:h.isActive?"default":"secondary",children:h.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),h.department]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),h.location]}),e.jsx(I,{variant:"outline",children:h.type})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.description.substring(0,150),"..."]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Posted: ",es(h.postedAt)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>p(h),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>u(h.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]})})},h.id))}),e.jsx(Hl,{open:n,onOpenChange:i,onSuccess:x,job:m})]})})}function Jl(t){return e.jsx(ca,{"data-slot":"collapsible",...t})}function _l(t){return e.jsx(ma,{"data-slot":"collapsible-trigger",...t})}function Yl(t){return e.jsx(da,{"data-slot":"collapsible-content",...t})}function Wl(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(new Set),{toast:m}=V(),c=x=>{const h=new Set(n);h.has(x)?h.delete(x):h.add(x),i(h)},o=async()=>{r(!0);const x=await xr();s(x),r(!1)};l.useEffect(()=>{o()},[]);const d=async(x,h)=>{await ur(x,h)&&(m({title:"Status updated successfully"}),o())},u=async x=>{confirm("Are you sure you want to delete this application?")&&await hr(x)&&(m({title:"Application deleted successfully"}),o())},p=async(x,h)=>{try{m({title:"Downloading resume...",description:"Please wait"});const A=await pr(x);if(!A){m({title:"Resume not found",description:"Could not retrieve the resume file",variant:"destructive"});return}const v=A.base64Data,D=atob(v.split(",")[1]),w=new Array(D.length);for(let g=0;g<D.length;g++)w[g]=D.charCodeAt(g);const y=new Uint8Array(w),N=new Blob([y],{type:A.fileType}),E=window.URL.createObjectURL(N),P=document.createElement("a");P.href=E,P.download=`${h.replace(/\s+/g,"_")}_${A.fileName}`,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(E),m({title:"Resume downloaded!",description:"Check your downloads folder"})}catch(A){console.error("Error downloading resume:",A),m({title:"Download failed",description:"An error occurred while downloading the resume",variant:"destructive"})}},f=t.filter(x=>x.status==="pending").length;return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Job Applications"}),e.jsxs("p",{className:"text-muted-foreground",children:["Review and manage job applications (",f," pending)"]})]})}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx("div",{className:"space-y-4",children:t.map(x=>{const h=n.has(x.id);return e.jsx(S,{className:"overflow-hidden",children:e.jsx(Jl,{open:h,onOpenChange:()=>c(x.id),children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:x.name}),e.jsx(I,{variant:x.status==="pending"?"default":"secondary",children:x.status})]}),e.jsxs("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:["Applied for: ",e.jsx("span",{className:"text-foreground",children:x.jobTitle})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-3 w-3"}),x.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"h-3 w-3"}),x.phone]})]}),e.jsx(Yl,{children:e.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(x.githubId||x.linkedinId)&&e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[x.githubId&&e.jsxs("a",{href:`https://github.com/${x.githubId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Us,{className:"h-4 w-4"}),x.githubId]}),x.linkedinId&&e.jsxs("a",{href:`https://linkedin.com/in/${x.linkedinId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Os,{className:"h-4 w-4"}),x.linkedinId]})]}),x.coverLetter&&e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h4",{className:"font-medium text-sm",children:"Cover Letter"})]}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:x.coverLetter})]})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Applied: ",es(x.appliedAt)]}),e.jsx(_l,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"sm",className:"gap-1",children:h?e.jsxs(e.Fragment,{children:[e.jsx(ms,{className:"h-4 w-4"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4"}),"Show More"]})})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(j,{size:"sm",variant:"default",onClick:()=>p(x.resumeId,x.name),disabled:!x.resumeId,children:[e.jsx(xa,{className:"h-4 w-4 mr-1"}),"Download Resume"]}),x.status==="pending"&&e.jsx(j,{size:"sm",variant:"secondary",onClick:()=>d(x.id,"reviewed"),children:"Mark Reviewed"}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>u(x.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]})})})},x.id)})})]})})}function Gl(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),{toast:n}=V(),i=async()=>{r(!0);const d=await fr();s(d),r(!1)};l.useEffect(()=>{i()},[]);const m=async(d,u)=>{await gr(d,u)&&(n({title:"Message status updated"}),i())},c=async d=>{confirm("Are you sure you want to delete this message?")&&await jr(d)&&(n({title:"Message deleted successfully"}),i())},o=t.filter(d=>d.status==="unread").length;return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Messages"}),e.jsxs("p",{className:"text-muted-foreground",children:["Manage contact form submissions (",o," unread)"]})]}),e.jsxs(j,{onClick:i,variant:"outline",size:"sm",children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx("div",{className:"space-y-4",children:t.map(d=>e.jsx(S,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("h3",{className:"font-semibold",children:d.name}),e.jsx(I,{variant:d.status==="unread"?"default":"secondary",children:d.status})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.email}),e.jsx("p",{className:"text-sm font-medium mt-2",children:d.subject}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:d.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:es(d.createdAt)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[d.status==="unread"&&e.jsx(j,{size:"sm",variant:"outline",onClick:()=>m(d.id,"read"),children:"Mark Read"}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>c(d.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]})})},d.id))})]})})}function Kl({open:t,onOpenChange:s,onSuccess:a,banner:r}){const{toast:n}=V(),[i,m]=l.useState(!1),[c,o]=l.useState({title:"",content:"",isActive:!1,backgroundColor:"#f0f0f0",textColor:"#000000"});l.useEffect(()=>{o(r?{title:r.title,content:r.content,isActive:r.isActive,backgroundColor:r.backgroundColor||"#f0f0f0",textColor:r.textColor||"#000000"}:{title:"",content:"",isActive:!1,backgroundColor:"#f0f0f0",textColor:"#000000"})},[r,t]);const d=async u=>{u.preventDefault(),m(!0);try{let p;r?p=await vr(r.id,c):p=await Nr(c),p?(n({title:"Success",description:r?"Banner updated successfully":"Banner created successfully"}),a()):n({title:"Error",description:"Failed to save banner",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred",variant:"destructive"})}finally{m(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{className:"max-w-2xl",children:[e.jsxs(oe,{children:[e.jsx(de,{children:r?"Edit Banner":"Create New Banner"}),e.jsx(me,{children:r?"Update the banner details":"Create a new header banner"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"title",children:"Title *"}),e.jsx(T,{id:"title",value:c.title,onChange:u=>o({...c,title:u.target.value}),required:!0,placeholder:"Banner title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"content",children:"Content (HTML) *"}),e.jsx(Y,{id:"content",value:c.content,onChange:u=>o({...c,content:u.target.value}),required:!0,placeholder:"<p>Banner content with HTML</p>",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{id:"backgroundColor",type:"color",value:c.backgroundColor,onChange:u=>o({...c,backgroundColor:u.target.value}),className:"w-16 h-10"}),e.jsx(T,{value:c.backgroundColor,onChange:u=>o({...c,backgroundColor:u.target.value}),placeholder:"#f0f0f0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"textColor",children:"Text Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{id:"textColor",type:"color",value:c.textColor,onChange:u=>o({...c,textColor:u.target.value}),className:"w-16 h-10"}),e.jsx(T,{value:c.textColor,onChange:u=>o({...c,textColor:u.target.value}),placeholder:"#000000"})]})]})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:i,children:[i&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Banner":"Create Banner"]})]})]})]})})}function Xl(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(!1),[m,c]=l.useState(null),{toast:o}=V(),d=async()=>{r(!0);const h=await br();s(h),r(!1)};l.useEffect(()=>{d()},[]);const u=h=>{c(h),i(!0)},p=()=>{i(!1),c(null),d()},f=async h=>{confirm("Are you sure you want to delete this banner?")&&await yr(h)&&(o({title:"Banner deleted successfully"}),d())},x=async h=>{await wr(h)&&(o({title:"Active banner updated"}),d())};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Header Banners"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage announcement banners at the top of the site"})]}),e.jsxs(j,{onClick:()=>i(!0),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Add Banner"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx("div",{className:"space-y-4",children:t.map(h=>e.jsx(S,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:h.title}),h.isActive&&e.jsx(I,{className:"bg-green-600",children:"Active"})]}),e.jsx("div",{className:"text-sm text-muted-foreground prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.content}}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[h.backgroundColor&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:h.backgroundColor}}),e.jsx("span",{className:"text-muted-foreground",children:h.backgroundColor})]}),h.textColor&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:h.textColor}}),e.jsx("span",{className:"text-muted-foreground",children:h.textColor})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[!h.isActive&&e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>x(h.id),children:[e.jsx(us,{className:"h-4 w-4 mr-1"}),"Set Active"]}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>u(h),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>f(h.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]})})},h.id))}),e.jsx(Kl,{open:n,onOpenChange:i,banner:m,onSuccess:p})]})})}function Zl({open:t,onOpenChange:s,onSuccess:a,video:r}){const{toast:n}=V(),[i,m]=l.useState(!1),[c,o]=l.useState({videoId:"",title:"",description:"",isActive:!1});l.useEffect(()=>{o(r?{videoId:r.videoId,title:r.title,description:r.description,isActive:r.isActive}:{videoId:"",title:"",description:"",isActive:!1})},[r,t]);const d=async u=>{u.preventDefault(),m(!0);try{let p;r?p=await Sr(r.id,c):p=await Cr(c),p?(n({title:"Success",description:r?"Video updated successfully":"Video added successfully"}),a()):n({title:"Error",description:"Failed to save video",variant:"destructive"})}catch{n({title:"Error",description:"An error occurred",variant:"destructive"})}finally{m(!1)}};return e.jsx(pe,{open:t,onOpenChange:s,children:e.jsxs(ie,{children:[e.jsxs(oe,{children:[e.jsx(de,{children:r?"Edit Video":"Add New Video"}),e.jsx(me,{children:"Enter YouTube video ID and details"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"videoId",children:"YouTube Video ID *"}),e.jsx(T,{id:"videoId",value:c.videoId,onChange:u=>o({...c,videoId:u.target.value}),required:!0,placeholder:"dQw4w9WgXcQ"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: For https://youtube.com/watch?v=dQw4w9WgXcQ, use: dQw4w9WgXcQ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"title",children:"Title *"}),e.jsx(T,{id:"title",value:c.title,onChange:u=>o({...c,title:u.target.value}),required:!0,placeholder:"Video title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"description",children:"Description *"}),e.jsx(Y,{id:"description",value:c.description,onChange:u=>o({...c,description:u.target.value}),required:!0,placeholder:"Video description",rows:3})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsxs(j,{type:"submit",disabled:i,children:[i&&e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Video":"Add Video"]})]})]})]})})}function en(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(!1),[m,c]=l.useState(null),{toast:o}=V(),d=async()=>{r(!0);const h=await Ar();s(h),r(!1)};l.useEffect(()=>{d()},[]);const u=async h=>{confirm("Are you sure you want to delete this video?")&&(await kr(h)?(o({title:"Video deleted successfully"}),d()):o({title:"Failed to delete video",variant:"destructive"}))},p=async h=>{await Tr(h)?(o({title:"Active video updated"}),d()):o({title:"Failed to update active video",variant:"destructive"})},f=h=>{c(h),i(!0)},x=()=>{i(!1),c(null),d()};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Featured Videos"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage featured videos for the homepage"})]}),e.jsxs(j,{onClick:()=>i(!0),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Add Video"]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsx("div",{className:"grid gap-4",children:t.map(h=>e.jsx(S,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"relative w-48 h-28 bg-black rounded overflow-hidden shrink-0",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${h.videoId}/mqdefault.jpg`,alt:h.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(os,{className:"h-8 w-8 text-white/80"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Video ID: ",h.videoId]})]}),e.jsx("div",{className:"flex gap-2",children:h.isActive?e.jsx(I,{className:"bg-green-600",children:"Active"}):e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>p(h.id),children:[e.jsx(us,{className:"h-4 w-4 mr-1"}),"Set Active"]})})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>f(h),children:[e.jsx(ve,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(j,{size:"sm",variant:"destructive",onClick:()=>u(h.id),children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]})})},h.id))}),e.jsx(Zl,{open:n,onOpenChange:i,onSuccess:x,video:m})]})})}function sn({className:t,...s}){return e.jsx(ua,{"data-slot":"tabs",className:C("flex flex-col gap-2",t),...s})}function tn({className:t,...s}){return e.jsx(ha,{"data-slot":"tabs-list",className:C("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function ws({className:t,...s}){return e.jsx(pa,{"data-slot":"tabs-trigger",className:C("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Ss({className:t,...s}){return e.jsx(fa,{"data-slot":"tabs-content",className:C("flex-1 outline-none",t),...s})}function an(){const[t,s]=l.useState([]),[a,r]=l.useState([]),[n,i]=l.useState(!0),[m,c]=l.useState(!1),[o,d]=l.useState(null),[u,p]=l.useState("batches"),{toast:f}=V(),[x,h]=l.useState({question:"",option1:"",option2:"",option3:"",option4:"",correctAnswer:0,explanation:"",category:"current-affairs"}),A=l.useRef(null);l.useEffect(()=>{v()},[]);async function v(){i(!0);const[g,L]=await Promise.all([ct(),Dr()]);s(g),r(L),i(!1)}const D=async g=>{g.preventDefault();const L={question:x.question,options:[x.option1,x.option2,x.option3,x.option4],correctAnswer:x.correctAnswer,explanation:x.explanation,category:x.category,createdAt:new Date().toISOString()};o?await Er(o.id,L)?(f({title:"Question updated successfully"}),v(),P()):f({title:"Failed to update question",variant:"destructive"}):await Ir(L)?(f({title:"Question added successfully"}),v(),P()):f({title:"Failed to add question",variant:"destructive"})},w=g=>{d(g),h({question:g.question,option1:g.options[0]||"",option2:g.options[1]||"",option3:g.options[2]||"",option4:g.options[3]||"",correctAnswer:g.correctAnswer,explanation:g.explanation||"",category:g.category}),c(!0)},y=async g=>{confirm("Are you sure you want to delete this question?")&&(await Fr(g)?(f({title:"Question deleted successfully"}),v()):f({title:"Failed to delete question",variant:"destructive"}))},N=async g=>{var O;const L=(O=g.target.files)==null?void 0:O[0];if(L)try{const $=await L.text(),fe=JSON.parse($);if(!Array.isArray(fe)){f({title:"Invalid JSON format. Expected an array of questions.",variant:"destructive"});return}const be=[];let ye=0;for(const le of fe){if(!le.question||!Array.isArray(le.options)||le.options.length!==4||typeof le.correctAnswer!="number"){ye++;continue}be.push({question:le.question,options:le.options,correctAnswer:le.correctAnswer,explanation:le.explanation||"",category:le.category||"current-affairs"})}const ts=await Rr(be);ts.success?f({title:`Batch ${ts.batchNumber} imported successfully!`,description:`${ts.count} questions added${ye>0?`, ${ye} failed`:""}`}):f({title:"Failed to import batch",variant:"destructive"}),v(),A.current&&(A.current.value="")}catch{f({title:"Failed to parse JSON file",variant:"destructive"})}},E=async g=>{confirm(`Are you sure you want to delete Batch ${g}? This will delete all questions in this batch.`)&&(await Pr(g)?(f({title:`Batch ${g} deleted successfully`}),v()):f({title:"Failed to delete batch",variant:"destructive"}))},P=()=>{h({question:"",option1:"",option2:"",option3:"",option4:"",correctAnswer:0,explanation:"",category:"current-affairs"}),d(null),c(!1)};return n?e.jsx(J,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Quiz Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage current affairs quiz questions"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{variant:"outline",onClick:()=>{var g;return(g=A.current)==null?void 0:g.click()},children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Import JSON"]}),e.jsx("input",{ref:A,type:"file",accept:".json",onChange:N,className:"hidden"}),e.jsxs(j,{onClick:()=>c(!m),children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})]}),m&&e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:o?"Edit Question":"Add New Question"}),e.jsx(H,{children:"Fill in the details for the quiz question"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"question",children:"Question"}),e.jsx(Y,{id:"question",value:x.question,onChange:g=>h({...x,question:g.target.value}),required:!0,rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"option1",children:"Option 1"}),e.jsx(T,{id:"option1",value:x.option1,onChange:g=>h({...x,option1:g.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"option2",children:"Option 2"}),e.jsx(T,{id:"option2",value:x.option2,onChange:g=>h({...x,option2:g.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"option3",children:"Option 3"}),e.jsx(T,{id:"option3",value:x.option3,onChange:g=>h({...x,option3:g.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"option4",children:"Option 4"}),e.jsx(T,{id:"option4",value:x.option4,onChange:g=>h({...x,option4:g.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"correctAnswer",children:"Correct Answer (0-3)"}),e.jsx(T,{id:"correctAnswer",type:"number",min:"0",max:"3",value:x.correctAnswer,onChange:g=>h({...x,correctAnswer:parseInt(g.target.value)}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"explanation",children:"Explanation (Optional)"}),e.jsx(Y,{id:"explanation",value:x.explanation,onChange:g=>h({...x,explanation:g.target.value}),rows:2})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{type:"submit",children:o?"Update Question":"Add Question"}),e.jsx(j,{type:"button",variant:"outline",onClick:P,children:"Cancel"})]})]})})]}),e.jsxs(sn,{defaultValue:"batches",className:"space-y-4",children:[e.jsxs(tn,{children:[e.jsxs(ws,{value:"batches",children:[e.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Batches View"]}),e.jsxs(ws,{value:"all",children:[e.jsx(ga,{className:"h-4 w-4 mr-2"}),"All Questions"]})]}),e.jsx(Ss,{value:"batches",children:e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(R,{children:["Question Batches (",a.length," batches)"]}),e.jsx(H,{children:"Each batch contains 50 questions. System automatically rotates batches daily and deletes batches older than 30 days."})]}),e.jsx(k,{children:e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:'No batches found. Import your first batch using the "Import JSON" button.'}):a.map(g=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Batch ",g.batchNumber]}),e.jsxs(I,{variant:"secondary",children:[g.questionCount," questions"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsxs("span",{children:["Added: ",new Date(g.batchDate).toLocaleDateString()]})]})]}),e.jsxs(j,{size:"sm",variant:"destructive",onClick:()=>E(g.batchNumber),children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Delete Batch"]})]})},g.batchNumber))})})]})}),e.jsx(Ss,{value:"all",children:e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs(R,{children:["All Quiz Questions (",t.length,")"]})}),e.jsx(k,{children:e.jsx("div",{className:"space-y-4",children:t.map(g=>e.jsx("div",{className:"border rounded-lg p-4 space-y-2",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:g.question}),g.batchNumber&&e.jsxs(I,{variant:"outline",className:"text-xs",children:["Batch ",g.batchNumber]})]}),e.jsx("div",{className:"mt-2 space-y-1",children:g.options.map((L,O)=>e.jsxs("div",{className:`text-sm ${O===g.correctAnswer?"text-green-600 font-medium":"text-muted-foreground"}`,children:[O+1,". ",L," ",O===g.correctAnswer&&"✓"]},O))}),g.explanation&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.jsx("strong",{children:"Explanation:"})," ",g.explanation]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>w(g),children:e.jsx(ja,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>y(g.id),children:e.jsx(se,{className:"h-4 w-4"})})]})]})},g.id))})})]})})]})]})})}async function Ct(t={}){try{const s=De(he,"analytics");let a=Le(s,hs("timestamp","desc"),ps(t.limit||100)),n=(await Me(a)).docs.map(i=>{var m,c,o;return{id:i.id,...i.data(),timestamp:((o=(c=(m=i.data().timestamp)==null?void 0:m.toDate)==null?void 0:c.call(m))==null?void 0:o.toISOString())||i.data().timestamp}});return t.startDate&&(n=n.filter(i=>i.date>=t.startDate)),t.endDate&&(n=n.filter(i=>i.date<=t.endDate)),t.articleId&&(n=n.filter(i=>i.articleId===t.articleId)),t.country&&(n=n.filter(i=>i.country===t.country)),t.deviceType&&(n=n.filter(i=>i.deviceType===t.deviceType)),n}catch(s){return console.error("Error fetching analytics:",s),[]}}function rn(t,s={}){try{const a=De(he,"analytics");let r=Le(a,hs("timestamp","desc"),ps(s.limit||100));return Lr(r,i=>{let m=i.docs.map(c=>{var o,d,u;return{id:c.id,...c.data(),timestamp:((u=(d=(o=c.data().timestamp)==null?void 0:o.toDate)==null?void 0:d.call(o))==null?void 0:u.toISOString())||c.data().timestamp}});s.startDate&&(m=m.filter(c=>c.date>=s.startDate)),s.endDate&&(m=m.filter(c=>c.date<=s.endDate)),s.articleId&&(m=m.filter(c=>c.articleId===s.articleId)),s.country&&(m=m.filter(c=>c.country===s.country)),s.deviceType&&(m=m.filter(c=>c.deviceType===s.deviceType)),t(m)},i=>{console.error("Error in real-time analytics:",i),t([])})}catch(a){return console.error("Error setting up analytics listener:",a),()=>{}}}async function ln(t=30){try{const s=new Date;s.setDate(s.getDate()-t);const a=s.toISOString().split("T")[0],r=await Ct({startDate:a}),n=new Set(r.map(p=>p.ipHash)).size,i=r.length,m=new Set(r.map(p=>p.sessionId)).size,c={};r.forEach(p=>{c[p.country]=(c[p.country]||0)+1});const o={};r.forEach(p=>{o[p.deviceType]=(o[p.deviceType]||0)+1});const d={};r.forEach(p=>{p.articleId&&p.articleTitle&&(d[p.articleId]||(d[p.articleId]={id:p.articleId,title:p.articleTitle,views:0}),d[p.articleId].views++)});const u=Object.values(d).sort((p,f)=>f.views-p.views).slice(0,10);return{totalPageViews:i,uniqueVisitors:n,uniqueSessions:m,byCountry:c,byDevice:o,topArticles:u,period:`Last ${t} days`}}catch(s){return console.error("Error fetching analytics summary:",s),{totalPageViews:0,uniqueVisitors:0,uniqueSessions:0,byCountry:{},byDevice:{},topArticles:[],period:`Last ${t} days`}}}async function nn(){try{const t=new Date().toISOString().split("T")[0],s=await Ct({startDate:t,endDate:t});return{todayVisitors:new Set(s.map(a=>a.ipHash)).size,todayPageViews:s.length,todaySessions:new Set(s.map(a=>a.sessionId)).size}}catch(t){return console.error("Error fetching today stats:",t),{todayVisitors:0,todayPageViews:0,todaySessions:0}}}function on(){const[t,s]=l.useState([]),[a,r]=l.useState(null),[n,i]=l.useState(null),[m,c]=l.useState(!0),[o,d]=l.useState({limit:100,country:"",deviceType:"all"}),u=async()=>{try{const[x,h]=await Promise.all([ln(30),nn()]);r(x),i(h)}catch(x){console.error("Error loading summary:",x)}};l.useEffect(()=>{c(!0);const x={...o,deviceType:o.deviceType==="all"?"":o.deviceType},h=rn(v=>{s(v),c(!1)},x);u();const A=setInterval(u,3e4);return()=>{h(),clearInterval(A)}},[o.limit,o.deviceType,o.country]);const p=x=>{switch(x){case"mobile":return e.jsx(wa,{className:"h-4 w-4"});case"tablet":return e.jsx(ya,{className:"h-4 w-4"});default:return e.jsx(ba,{className:"h-4 w-4"})}},f=x=>{switch(x){case"mobile":return"bg-blue-500";case"tablet":return"bg-purple-500";default:return"bg-green-500"}};return e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-muted-foreground",children:"Track visitor activity and engagement"}),e.jsxs(I,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(va,{className:"h-3 w-3 text-green-500 animate-pulse"}),"Live"]})]})]}),e.jsxs(j,{onClick:u,disabled:m,children:[e.jsx(st,{className:`mr-2 h-4 w-4 ${m?"animate-spin":""}`}),"Refresh Stats"]})]}),n&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Today's Visitors"}),e.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.todayVisitors}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique visitors today"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Today's Page Views"}),e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.todayPageViews}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total page views today"})]})]}),e.jsxs(S,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Active Sessions"}),e.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.todaySessions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Browsing sessions today"})]})]})]}),a&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(S,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Total Page Views"})}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.totalPageViews}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.period})]})]}),e.jsxs(S,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Unique Visitors"})}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.uniqueVisitors}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.period})]})]}),e.jsxs(S,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Desktop Users"})}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.byDevice.desktop||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Desktop views"})]})]}),e.jsxs(S,{children:[e.jsx(F,{className:"pb-2",children:e.jsx(R,{className:"text-sm font-medium",children:"Mobile Users"})}),e.jsxs(k,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.byDevice.mobile||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile views"})]})]})]}),a&&a.topArticles&&a.topArticles.length>0&&e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Top Articles"}),e.jsx(H,{children:"Most viewed articles in the last 30 days"})]}),e.jsx(k,{children:e.jsx("div",{className:"space-y-3",children:a.topArticles.map((x,h)=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{variant:"outline",className:"text-xs",children:h+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:x.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.views," views"]})]})]}),e.jsx(I,{children:x.views})]},x.id))})})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Filter Visitor Data"}),e.jsx(H,{children:"Filter and search visitor activity"})]}),e.jsx(k,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Device Type"}),e.jsxs(te,{value:o.deviceType,onValueChange:x=>d({...o,deviceType:x}),children:[e.jsx(Z,{children:e.jsx(ae,{placeholder:"All Devices"})}),e.jsxs(ee,{children:[e.jsx(z,{value:"all",children:"All Devices"}),e.jsx(z,{value:"desktop",children:"Desktop"}),e.jsx(z,{value:"mobile",children:"Mobile"}),e.jsx(z,{value:"tablet",children:"Tablet"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Results Limit"}),e.jsxs(te,{value:o.limit.toString(),onValueChange:x=>d({...o,limit:parseInt(x)}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:"50",children:"50 Results"}),e.jsx(z,{value:"100",children:"100 Results"}),e.jsx(z,{value:"200",children:"200 Results"}),e.jsx(z,{value:"500",children:"500 Results"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Country"}),e.jsx(T,{placeholder:"e.g., India",value:o.country,onChange:x=>d({...o,country:x.target.value})})]})]})})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Recent Visitor Activity"}),e.jsxs(H,{children:["Showing ",t.length," recent visitors"]})]}),e.jsx(k,{children:m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No visitor data available yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"p-3 text-left font-medium",children:"Time"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"IP"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Location"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Article"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Device"}),e.jsx("th",{className:"p-3 text-left font-medium",children:"Session ID"})]})}),e.jsx("tbody",{children:t.map(x=>{var h,A;return e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-xs text-muted-foreground",children:x.timestamp?Se(new Date(x.timestamp),{addSuffix:!0}):"N/A"})}),e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"font-mono text-xs",children:x.ip||"N/A"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Hash: ",(h=x.ipHash)==null?void 0:h.substring(0,8),"..."]})]}),e.jsxs("td",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ls,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:x.city})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.country})]}),e.jsx("td",{className:"p-3 max-w-xs",children:x.articleTitle?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium truncate",children:x.articleTitle}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",x.articleId]})]}):e.jsx("span",{className:"text-muted-foreground text-xs",children:x.pageUrl||"Homepage"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1 rounded ${f(x.deviceType)}`,children:p(x.deviceType)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium capitalize",children:x.deviceType}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.browser})]})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"font-mono text-xs",children:[(A=x.sessionId)==null?void 0:A.substring(0,20),"..."]})})]},x.id)})})]})})})]}),a&&Object.keys(a.byCountry).length>0&&e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Visitors by Country"}),e.jsx(H,{children:"Geographic distribution of visitors"})]}),e.jsx(k,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(a.byCountry).sort((x,h)=>h[1]-x[1]).slice(0,10).map(([x,h])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:x})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${h/a.totalPageViews*100}%`}})}),e.jsx(I,{variant:"outline",children:h})]})]},x))})})]})]})})}const gs=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{ref:a,"data-slot":"table",className:C("w-full caption-bottom text-sm",t),...s})}));gs.displayName="Table";const js=l.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,"data-slot":"table-header",className:C("[&_tr]:border-b",t),...s}));js.displayName="TableHeader";const vs=l.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,"data-slot":"table-body",className:C("[&_tr:last-child]:border-0",t),...s}));vs.displayName="TableBody";const cn=l.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,"data-slot":"table-footer",className:C("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",t),...s}));cn.displayName="TableFooter";const Fe=l.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,"data-slot":"table-row",className:C("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s}));Fe.displayName="TableRow";const G=l.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,"data-slot":"table-head",className:C("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));G.displayName="TableHead";const K=l.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,"data-slot":"table-cell",className:C("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));K.displayName="TableCell";const dn=l.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,"data-slot":"table-caption",className:C("text-muted-foreground mt-4 text-sm",t),...s}));dn.displayName="TableCaption";function mn(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(""),[m,c]=l.useState(!1),[o,d]=l.useState(null),[u,p]=l.useState({title:"",description:"",url:"",category:"Education",status:"active",features:"",isPopular:!1});l.useEffect(()=>{f()},[]);const f=async()=>{try{const N=localStorage.getItem("services");if(N){const E=JSON.parse(N);s(E)}else s([]);r(!1)}catch(N){console.error("Error loading services:",N),s([]),r(!1)}},x=N=>{const E={active:{label:"Active",variant:"default",icon:qe},"coming-soon":{label:"Coming Soon",variant:"secondary",icon:ne},development:{label:"In Development",variant:"outline",icon:$e}},P=E[N]||E.development,g=P.icon;return e.jsxs(I,{variant:P.variant,className:"flex items-center gap-1",children:[e.jsx(g,{className:"h-3 w-3"}),P.label]})},h=t.filter(N=>N.title.toLowerCase().includes(n.toLowerCase())||N.description.toLowerCase().includes(n.toLowerCase())||N.category.toLowerCase().includes(n.toLowerCase())),A=()=>{d(null),p({title:"",description:"",url:"",category:"Education",status:"active",features:"",isPopular:!1}),c(!0)},v=N=>{d(N),p({title:N.title,description:N.description,url:N.url,category:N.category,status:N.status,features:N.features.join(`
`),isPopular:N.isPopular}),c(!0)},D=()=>{if(!u.title||!u.description||!u.url){alert("Please fill in all required fields");return}const N={...u,features:u.features.split(`
`).filter(P=>P.trim()),updatedAt:new Date};let E;o?E=t.map(P=>P.id===o.id?{...P,...N}:P):E=[{id:Date.now().toString(),...N,createdAt:new Date},...t],localStorage.setItem("services",JSON.stringify(E)),s(E),c(!1),d(null)},w=N=>{if(confirm("Are you sure you want to delete this service?")){const E=t.filter(P=>P.id!==N);localStorage.setItem("services",JSON.stringify(E)),s(E)}},y=(N,E)=>{const P=t.map(g=>g.id===N?{...g,status:E,updatedAt:new Date}:g);localStorage.setItem("services",JSON.stringify(P)),s(P)};return a?e.jsx(J,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-8"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>e.jsx("div",{className:"h-32 bg-muted rounded-lg"},N))})]})})}):e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Services Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your digital services and offerings"})]}),e.jsxs(j,{onClick:A,children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(R,{children:"Search & Filter"})}),e.jsx(k,{children:e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(b,{htmlFor:"search",children:"Search Services"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"search",placeholder:"Search by title, description, or category...",value:n,onChange:N=>i(N.target.value),className:"pl-10"})]})]})})})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsxs(R,{children:["All Services (",h.length,")"]}),e.jsx(H,{children:"Manage your digital services and their status"})]}),e.jsx(k,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(gs,{children:[e.jsx(js,{children:e.jsxs(Fe,{children:[e.jsx(G,{children:"Service"}),e.jsx(G,{children:"Category"}),e.jsx(G,{children:"Status"}),e.jsx(G,{children:"URL"}),e.jsx(G,{children:"Popular"}),e.jsx(G,{children:"Actions"})]})}),e.jsx(vs,{children:h.map(N=>e.jsxs(Fe,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary text-white",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:N.title}),e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:N.description})]})]})}),e.jsx(K,{children:e.jsx(I,{variant:"outline",children:N.category})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[x(N.status),e.jsxs(te,{value:N.status,onValueChange:E=>y(N.id,E),children:[e.jsx(Z,{className:"w-32",children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:"active",children:"Active"}),e.jsx(z,{value:"coming-soon",children:"Coming Soon"}),e.jsx(z,{value:"development",children:"Development"})]})]})]})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm truncate max-w-32",children:N.url}),e.jsx(j,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Vs,{className:"h-4 w-4"})})})]})}),e.jsx(K,{children:N.isPopular?e.jsx(I,{className:"bg-primary text-primary-foreground",children:"Popular"}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>v(N),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>w(N.id),className:"text-destructive hover:text-destructive",children:e.jsx(se,{className:"h-4 w-4"})})]})})]},N.id))})]})})})]}),e.jsx(pe,{open:m,onOpenChange:c,children:e.jsxs(ie,{className:"max-w-2xl",children:[e.jsxs(oe,{children:[e.jsx(de,{children:o?"Edit Service":"Add New Service"}),e.jsx(me,{children:o?"Update the service information":"Create a new service offering"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"title",children:"Service Title *"}),e.jsx(T,{id:"title",value:u.title,onChange:N=>p(E=>({...E,title:N.target.value})),placeholder:"e.g., Library Management System"})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"category",children:"Category *"}),e.jsxs(te,{value:u.category,onValueChange:N=>p(E=>({...E,category:N})),children:[e.jsx(Z,{children:e.jsx(ae,{placeholder:"Select category"})}),e.jsxs(ee,{children:[e.jsx(z,{value:"Education",children:"Education"}),e.jsx(z,{value:"Business",children:"Business"}),e.jsx(z,{value:"Healthcare",children:"Healthcare"}),e.jsx(z,{value:"Government",children:"Government"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"url",children:"Service URL *"}),e.jsx(T,{id:"url",value:u.url,onChange:N=>p(E=>({...E,url:N.target.value})),placeholder:"https://service.moradabads.com"})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"description",children:"Description *"}),e.jsx(Y,{id:"description",value:u.description,onChange:N=>p(E=>({...E,description:N.target.value})),placeholder:"Describe the service and its benefits...",rows:3})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"features",children:"Features (one per line)"}),e.jsx(Y,{id:"features",value:u.features,onChange:N=>p(E=>({...E,features:N.target.value})),placeholder:`Feature 1
Feature 2
Feature 3`,rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"status",children:"Status"}),e.jsxs(te,{value:u.status,onValueChange:N=>p(E=>({...E,status:N})),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:"active",children:"Active"}),e.jsx(z,{value:"coming-soon",children:"Coming Soon"}),e.jsx(z,{value:"development",children:"In Development"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx("input",{type:"checkbox",id:"isPopular",checked:u.isPopular,onChange:N=>p(E=>({...E,isPopular:N.target.checked})),className:"rounded"}),e.jsx(b,{htmlFor:"isPopular",children:"Mark as Popular Service"})]})]})]}),e.jsxs(ce,{children:[e.jsx(j,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(j,{onClick:D,children:o?"Update Service":"Add Service"})]})]})})]})})}function xn(){const[t,s]=l.useState(!1),[a,r]=l.useState(null),{toast:n}=V(),[i,m]=l.useState({name:"",email:"",phone:"",password:""});l.useEffect(()=>{const o=re();o&&(r(o),m({name:o.name||"",email:o.email||"",phone:o.phone||"",password:""}))},[]);const c=async o=>{o.preventDefault(),s(!0);try{const d={name:i.name,phone:i.phone};i.password&&(d.password=i.password),await wt(a.id,d);const u=re();r(u),m(p=>({...p,password:""})),n({title:"Success",description:"Your settings have been updated"})}catch(d){n({title:"Error",description:d.message||"Failed to update settings",variant:"destructive"})}finally{s(!1)}};return a?e.jsx(J,{children:e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Profile Information"}),e.jsxs(H,{children:["Update your personal information",a.role===U.EMPLOYEE&&" (Email is permanent and cannot be changed)"]})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"role",children:"Role"}),e.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[e.jsx(tt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:a.role===U.MASTER?"Master Admin":"Employee"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your role determines what you can access in the admin panel"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"name",className:"pl-10",value:i.name,onChange:o=>m({...i,name:o.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"email",type:"email",className:"pl-10",value:i.email,disabled:!0})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed for security reasons"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{id:"phone",type:"tel",className:"pl-10",value:i.phone,onChange:o=>m({...i,phone:o.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",children:"New Password"}),e.jsx(T,{id:"password",type:"password",placeholder:"Leave blank to keep current password",value:i.password,onChange:o=>m({...i,password:o.target.value})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only fill this if you want to change your password"})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4",children:e.jsxs(j,{type:"submit",disabled:t,children:[e.jsx(Sa,{className:"mr-2 h-4 w-4"}),t?"Saving...":"Save Changes"]})})]})})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"Account Information"}),e.jsx(H,{children:"Your account details"})]}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Account Created:"}),e.jsx("span",{className:"font-medium",children:a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),a.updatedAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:new Date(a.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})})]})]})}):e.jsx(J,{children:e.jsx("div",{className:"text-center py-8",children:"Loading..."})})}function un(t){return e.jsx(Fa,{"data-slot":"alert-dialog",...t})}function hn(t){return e.jsx(Ia,{"data-slot":"alert-dialog-portal",...t})}const At=l.forwardRef(({className:t,...s},a)=>e.jsx(Ca,{ref:a,"data-slot":"alert-dialog-overlay",className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s}));At.displayName="AlertDialogOverlay";const kt=l.forwardRef(({className:t,...s},a)=>e.jsxs(hn,{children:[e.jsx(At,{}),e.jsx(Aa,{ref:a,"data-slot":"alert-dialog-content",className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s})]}));kt.displayName="AlertDialogContent";function pn({className:t,...s}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:C("flex flex-col gap-2 text-center sm:text-left",t),...s})}function fn({className:t,...s}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:C("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}const Tt=l.forwardRef(({className:t,...s},a)=>e.jsx(ka,{ref:a,"data-slot":"alert-dialog-title",className:C("text-lg font-semibold",t),...s}));Tt.displayName="AlertDialogTitle";const Dt=l.forwardRef(({className:t,...s},a)=>e.jsx(Ta,{ref:a,"data-slot":"alert-dialog-description",className:C("text-muted-foreground text-sm",t),...s}));Dt.displayName="AlertDialogDescription";const Et=l.forwardRef(({className:t,...s},a)=>e.jsx(Da,{ref:a,className:C(fs(),t),...s}));Et.displayName="AlertDialogAction";const It=l.forwardRef(({className:t,...s},a)=>e.jsx(Ea,{ref:a,className:C(fs({variant:"outline"}),t),...s}));It.displayName="AlertDialogCancel";function gn(){const[t,s]=l.useState([]),[a,r]=l.useState(!0),[n,i]=l.useState(!1),[m,c]=l.useState(null),[o,d]=l.useState(null),{toast:u}=V(),p=Ae(),[f,x]=l.useState({name:"",email:"",phone:"",password:"",role:U.EMPLOYEE});l.useEffect(()=>{if(!ss()){u({title:"Access Denied",description:"Only master admin can access user management",variant:"destructive"}),p("/nimda/dashboard");return}h()},[p,u]);const h=async()=>{try{r(!0);const y=await Rl();s(y)}catch{u({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{r(!1)}},A=(y=null)=>{y?(c(y),x({name:y.name,email:y.email,phone:y.phone||"",password:"",role:y.role})):(c(null),x({name:"",email:"",phone:"",password:"",role:U.EMPLOYEE})),i(!0)},v=()=>{i(!1),c(null),x({name:"",email:"",phone:"",password:"",role:U.EMPLOYEE})},D=async y=>{y.preventDefault();try{if(m){const N={name:f.name,phone:f.phone,role:f.role};f.password&&(N.password=f.password),await wt(m.id,N),u({title:"Success",description:"User updated successfully"})}else{if(!f.password){u({title:"Error",description:"Password is required for new users",variant:"destructive"});return}await Fl(f),u({title:"Success",description:"User created successfully"})}v(),h()}catch(N){u({title:"Error",description:N.message||"Failed to save user",variant:"destructive"})}},w=async()=>{if(o)try{await Pl(o),u({title:"Success",description:"User deleted successfully"}),d(null),h()}catch(y){u({title:"Error",description:y.message||"Failed to delete user",variant:"destructive"})}};return e.jsxs(J,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage admin users and their permissions"})]}),e.jsxs(j,{onClick:()=>A(),children:[e.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(R,{children:"All Users"}),e.jsx(H,{children:"View and manage all admin users"})]}),e.jsx(k,{children:a?e.jsx("div",{className:"text-center py-8",children:"Loading users..."}):t.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):e.jsxs(gs,{children:[e.jsx(js,{children:e.jsxs(Fe,{children:[e.jsx(G,{children:"Name"}),e.jsx(G,{children:"Email"}),e.jsx(G,{children:"Phone"}),e.jsx(G,{children:"Role"}),e.jsx(G,{children:"Created"}),e.jsx(G,{className:"text-right",children:"Actions"})]})}),e.jsx(vs,{children:t.map(y=>e.jsxs(Fe,{children:[e.jsx(K,{className:"font-medium",children:y.name}),e.jsx(K,{children:y.email}),e.jsx(K,{children:y.phone||"-"}),e.jsx(K,{children:e.jsx(I,{variant:y.role===U.MASTER?"default":"secondary",children:y.role===U.MASTER?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"mr-1 h-3 w-3"})," Master"]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"mr-1 h-3 w-3"})," Employee"]})})}),e.jsx(K,{children:y.createdAt?new Date(y.createdAt).toLocaleDateString():"-"}),e.jsx(K,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>A(y),children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>d(y.id),children:e.jsx(se,{className:"h-4 w-4"})})]})})]},y.id))})]})})]})]}),e.jsx(pe,{open:n,onOpenChange:i,children:e.jsxs(ie,{children:[e.jsxs(oe,{children:[e.jsx(de,{children:m?"Edit User":"Create New User"}),e.jsx(me,{children:m?"Update user information and permissions":"Add a new user to the admin panel"})]}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Name *"}),e.jsx(T,{id:"name",value:f.name,onChange:y=>x({...f,name:y.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email *"}),e.jsx(T,{id:"email",type:"email",value:f.email,onChange:y=>x({...f,email:y.target.value}),disabled:!!m,required:!0}),m&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"phone",children:"Phone"}),e.jsx(T,{id:"phone",type:"tel",value:f.phone,onChange:y=>x({...f,phone:y.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"password",children:["Password ",!m&&"*"]}),e.jsx(T,{id:"password",type:"password",value:f.password,onChange:y=>x({...f,password:y.target.value}),required:!m}),m&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave blank to keep current password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"role",children:"Role *"}),e.jsxs(te,{value:f.role,onValueChange:y=>x({...f,role:y}),children:[e.jsx(Z,{children:e.jsx(ae,{})}),e.jsxs(ee,{children:[e.jsx(z,{value:U.MASTER,children:"Master Admin"}),e.jsx(z,{value:U.EMPLOYEE,children:"Employee"})]})]})]})]}),e.jsxs(ce,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:v,children:"Cancel"}),e.jsxs(j,{type:"submit",children:[m?"Update":"Create"," User"]})]})]})]})}),e.jsx(un,{open:!!o,onOpenChange:()=>d(null),children:e.jsxs(kt,{children:[e.jsxs(pn,{children:[e.jsx(Tt,{children:"Are you sure?"}),e.jsx(Dt,{children:"This action cannot be undone. This will permanently delete the user account."})]}),e.jsxs(fn,{children:[e.jsx(It,{children:"Cancel"}),e.jsx(Et,{onClick:w,children:"Delete"})]})]})})]})}function W({children:t,requiredRole:s=null}){const a=Ae();return l.useEffect(()=>{const r=re();if(!r){a("/nimda");return}if(s&&r.role!==s&&r.role!=="master"){a("/nimda/dashboard");return}},[a,s]),e.jsx(e.Fragment,{children:t})}function jn(){return e.jsx(Mr,{defaultTheme:"light",storageKey:"moradabad-news-theme",children:e.jsxs(Pa,{children:[e.jsxs(La,{children:[e.jsx(q,{path:"/",element:e.jsx(ll,{})}),e.jsx(q,{path:"/about",element:e.jsx(nl,{})}),e.jsx(q,{path:"/careers",element:e.jsx(dl,{})}),e.jsx(q,{path:"/contact",element:e.jsx(xl,{})}),e.jsx(q,{path:"/services",element:e.jsx(ul,{})}),e.jsx(q,{path:"/current-affairs",element:e.jsx(hl,{})}),e.jsx(q,{path:"/news/trending",element:e.jsx(pl,{})}),e.jsx(q,{path:"/news/:category",element:e.jsx(gl,{})}),e.jsx(q,{path:"/news/:category/:slug",element:e.jsx(Nl,{})}),e.jsx(q,{path:"/search",element:e.jsx(Tl,{})}),e.jsx(q,{path:"/nimda",element:e.jsx(Ll,{})}),e.jsx(q,{path:"/nimda/dashboard",element:e.jsx(W,{children:e.jsx(Ol,{})})}),e.jsx(q,{path:"/nimda/posts",element:e.jsx(W,{children:e.jsx(Vl,{})})}),e.jsx(q,{path:"/nimda/categories",element:e.jsx(W,{children:e.jsx(Ql,{})})}),e.jsx(q,{path:"/nimda/careers",element:e.jsx(W,{children:e.jsx($l,{})})}),e.jsx(q,{path:"/nimda/applications",element:e.jsx(W,{children:e.jsx(Wl,{})})}),e.jsx(q,{path:"/nimda/messages",element:e.jsx(W,{children:e.jsx(Gl,{})})}),e.jsx(q,{path:"/nimda/headers",element:e.jsx(W,{children:e.jsx(Xl,{})})}),e.jsx(q,{path:"/nimda/videos",element:e.jsx(W,{children:e.jsx(en,{})})}),e.jsx(q,{path:"/nimda/quiz",element:e.jsx(W,{children:e.jsx(an,{})})}),e.jsx(q,{path:"/nimda/analytics",element:e.jsx(W,{children:e.jsx(on,{})})}),e.jsx(q,{path:"/nimda/services",element:e.jsx(W,{children:e.jsx(mn,{})})}),e.jsx(q,{path:"/nimda/users",element:e.jsx(W,{children:e.jsx(gn,{})})}),e.jsx(q,{path:"/nimda/settings",element:e.jsx(W,{children:e.jsx(xn,{})})}),e.jsx(q,{path:"*",element:e.jsx(Dl,{})})]}),e.jsx(Jr,{})]})})}typeof window<"u"&&Ma.createRoot(document.getElementById("root")).render(e.jsx(za.StrictMode,{children:e.jsx(jn,{})}));
